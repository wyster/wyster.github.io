

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Conventions &mdash; Symfony Framework Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/rtd_custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Git" href="git.html" />
    <link rel="prev" title="Coding Standards" href="standards.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #f0f0f0" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/symfony-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                5.2}
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../quick_tour/index.html">The Quick Tour</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../best_practices.html">The Symfony Framework Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bundles.html">The Bundle System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../console.html">Console Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doctrine.html">Databases and the Doctrine ORM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deployment.html">How to Deploy a Symfony Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../email.html">Swift Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../event_dispatcher.html">Events and Event Listeners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../forms.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../frontend.html">Managing CSS and JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../http_cache.html">HTTP Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../http_client.html">HTTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lock.html">Dealing with Concurrency with Locks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mailer.html">Sending Emails with Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mercure.html">Pushing Data to Clients Using the Mercure Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../messenger.html">Messenger: Sync &amp; Queued Message Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration.html">Migrating an Existing Application to Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notifier.html">Creating and Sending Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../profiler.html">Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rate_limiter.html">Rate Limiter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../session.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup.html">Installing &amp; Setting up the Symfony Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../serializer.html">How to Use the Serializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../service_container.html">Service Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation.html">Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../validation.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web_link.html">Asset Preloading and Resource Hints with HTTP/2 and WebLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../workflow.html">Workflow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../components/index.html">The Components</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">Reference Documents</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Contributing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../code_of_conduct/index.html">Code of Conduct</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Contributing Code</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bugs.html">Reporting a Bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="stack_trace.html">Getting a Stack Trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="reproducer.html">Creating a Bug Reproducer</a></li>
<li class="toctree-l3"><a class="reference internal" href="pull_requests.html">Proposing a Change</a></li>
<li class="toctree-l3"><a class="reference internal" href="maintenance.html">Maintenance</a></li>
<li class="toctree-l3"><a class="reference internal" href="core_team.html">Symfony Core Team</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html">Security Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="tests.html">Running Symfony Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="bc.html">Our Backward Compatibility Promise</a></li>
<li class="toctree-l3"><a class="reference internal" href="experimental.html">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="standards.html">Coding Standards</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Conventions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#method-names">Method Names</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deprecating-code">Deprecating Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removing-deprecated-code">Removing Deprecated Code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="git.html">Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html">Symfony Code License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Contributing Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../community/index.html">Community</a></li>
<li class="toctree-l2"><a class="reference internal" href="../diversity/index.html">Diversity Initiative</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../create_framework/index.html">Create your own PHP Framework</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Symfony Framework Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Contributing</a> &raquo;</li>
        
          <li><a href="index.html">Contributing Code</a> &raquo;</li>
        
      <li>Conventions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/contributing/code/conventions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="conventions">
<h1>Conventions<a class="headerlink" href="#conventions" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="standards.html"><span class="doc">Coding Standards</span></a> document describes the coding standards for the Symfony
projects and the internal and third-party bundles. This document describes
coding standards and conventions used in the core framework to make it more
consistent and predictable. You are encouraged to follow them in your own
code, but you don’t need to.</p>
<div class="section" id="method-names">
<h2>Method Names<a class="headerlink" href="#method-names" title="Permalink to this headline">¶</a></h2>
<p>When an object has a “main” many relation with related “things”
(objects, parameters, …), the method names are normalized:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">get()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">set()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">has()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">all()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">replace()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">remove()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">clear()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">isEmpty()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">add()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">register()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">count()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">keys()</span></code></li>
</ul>
<p>The usage of these methods is only allowed when it is clear that there
is a main relation:</p>
<ul class="simple">
<li>a <code class="docutils literal notranslate"><span class="pre">CookieJar</span></code> has many <code class="docutils literal notranslate"><span class="pre">Cookie</span></code> objects;</li>
<li>a Service <code class="docutils literal notranslate"><span class="pre">Container</span></code> has many services and many parameters (as services
is the main relation, the naming convention is used for this relation);</li>
<li>a Console <code class="docutils literal notranslate"><span class="pre">Input</span></code> has many arguments and many options. There is no “main”
relation, and so the naming convention does not apply.</li>
</ul>
<p>For many relations where the convention does not apply, the following methods
must be used instead (where <code class="docutils literal notranslate"><span class="pre">XXX</span></code> is the name of the related thing):</p>
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Main Relation</th>
<th class="head">Other Relations</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">get()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">getXXX()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">set()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">setXXX()</span></code></td>
</tr>
<tr class="row-even"><td>n/a</td>
<td><code class="docutils literal notranslate"><span class="pre">replaceXXX()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">has()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">hasXXX()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">all()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">getXXXs()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">replace()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">setXXXs()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">remove()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">removeXXX()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">clear()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">clearXXX()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">isEmpty()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">isEmptyXXX()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">add()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">addXXX()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">register()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">registerXXX()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">count()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">countXXX()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">keys()</span></code></td>
<td>n/a</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While <code class="docutils literal notranslate"><span class="pre">setXXX()</span></code> and <code class="docutils literal notranslate"><span class="pre">replaceXXX()</span></code> are very similar, there is one notable
difference: <code class="docutils literal notranslate"><span class="pre">setXXX()</span></code> may replace, or add new elements to the relation.
<code class="docutils literal notranslate"><span class="pre">replaceXXX()</span></code>, on the other hand, cannot add new elements. If an unrecognized
key is passed to <code class="docutils literal notranslate"><span class="pre">replaceXXX()</span></code> it must throw an exception.</p>
</div>
</div>
<div class="section" id="deprecating-code">
<span id="contributing-code-conventions-deprecations"></span><h2>Deprecating Code<a class="headerlink" href="#deprecating-code" title="Permalink to this headline">¶</a></h2>
<p>From time to time, some classes and/or methods are deprecated in the
framework; that happens when a feature implementation cannot be changed
because of backward compatibility issues, but we still want to propose a
“better” alternative. In that case, the old implementation can be <strong>deprecated</strong>.</p>
<p>Deprecations must only be introduced on the next minor version of the impacted
component (or bundle, or bridge, or contract).
They can exceptionally be introduced on previous supported versions if they are critical.</p>
<p>A new class (or interface, or trait) cannot be introduced as deprecated, or
contain deprecated methods.</p>
<p>A new method cannot be introduced as deprecated.</p>
<p>A feature is marked as deprecated by adding a <code class="docutils literal notranslate"><span class="pre">&#64;deprecated</span></code> PHPDoc to
relevant classes, methods, properties, …:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="sd">/**</span>
<span class="sd"> * @deprecated since Symfony 5.1.</span>
<span class="sd"> */</span>
</pre></div>
</div>
<p>The deprecation message must indicate the version in which the feature was deprecated,
and whenever possible, how it was replaced:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="sd">/**</span>
<span class="sd"> * @deprecated since Symfony 5.1, use Replacement instead.</span>
<span class="sd"> */</span>
</pre></div>
</div>
<p>When the replacement is in another namespace than the deprecated class, its FQCN must be used:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="sd">/**</span>
<span class="sd"> * @deprecated since Symfony 5.1, use A\B\Replacement instead.</span>
<span class="sd"> */</span>
</pre></div>
</div>
<p>A deprecation must also be triggered to help people with the migration
(requires the <code class="docutils literal notranslate"><span class="pre">symfony/deprecation-contracts</span></code> package):</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="nx">trigger_deprecation</span><span class="p">(</span><span class="s1">&#39;symfony/package-name&#39;</span><span class="p">,</span> <span class="s1">&#39;5.1&#39;</span><span class="p">,</span> <span class="s1">&#39;The &quot;%s&quot; class is deprecated, use &quot;%s&quot; instead.&#39;</span><span class="p">,</span> <span class="nx">Deprecated</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nx">Replacement</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
</pre></div>
</div>
<p>When deprecating a whole class the <code class="docutils literal notranslate"><span class="pre">trigger_error()</span></code> call should be placed
after the use declarations, like in this example from <a class="reference external" href="https://github.com/symfony/symfony/blob/4.4/src/Symfony/Component/Routing/Loader/DependencyInjection/ServiceRouterLoader.php">ServiceRouterLoader</a>:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">Symfony\Component\Routing\Loader\DependencyInjection</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Loader\ContainerLoader</span><span class="p">;</span>

<span class="nx">trigger_deprecation</span><span class="p">(</span><span class="s1">&#39;symfony/routing&#39;</span><span class="p">,</span> <span class="s1">&#39;4.4&#39;</span><span class="p">,</span> <span class="s1">&#39;The &quot;%s&quot; class is deprecated, use &quot;%s&quot; instead.&#39;</span><span class="p">,</span> <span class="nx">ServiceRouterLoader</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nx">ContainerLoader</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>

<span class="sd">/**</span>
<span class="sd"> * @deprecated since Symfony 4.4, use Symfony\Component\Routing\Loader\ContainerLoader instead.</span>
<span class="sd"> */</span>
<span class="k">class</span> <span class="nc">ServiceRouterLoader</span> <span class="k">extends</span> <span class="nx">ObjectRouteLoader</span>
</pre></div>
</div>
<p>The deprecation must be added to the <code class="docutils literal notranslate"><span class="pre">CHANGELOG.md</span></code> file of the impacted component:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="mf">4.4</span><span class="o">.</span><span class="mi">0</span>
<span class="o">-----</span>

<span class="o">*</span> <span class="nx">Deprecated</span> <span class="nx">the</span> <span class="sb">`Deprecated`</span> <span class="nx">class</span><span class="p">,</span> <span class="k">use</span> <span class="sb">`Replacement`</span> <span class="nx">instead</span><span class="o">.</span>
</pre></div>
</div>
<p>It must also be added to the <code class="docutils literal notranslate"><span class="pre">UPGRADE.md</span></code> file of the targeted minor version
(<code class="docutils literal notranslate"><span class="pre">UPGRADE-4.4.md</span></code> in our example):</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="nx">DependencyInjection</span>
<span class="o">-------------------</span>

<span class="o">*</span> <span class="nx">Deprecated</span> <span class="nx">the</span> <span class="sb">`Deprecated`</span> <span class="nx">class</span><span class="p">,</span> <span class="k">use</span> <span class="sb">`Replacement`</span> <span class="nx">instead</span><span class="o">.</span>
</pre></div>
</div>
<p>Finally, its consequences must be added to the <code class="docutils literal notranslate"><span class="pre">UPGRADE.md</span></code> file of the next major version
(<code class="docutils literal notranslate"><span class="pre">UPGRADE-5.0.md</span></code> in our example):</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="nx">DependencyInjection</span>
<span class="o">-------------------</span>

<span class="o">*</span> <span class="nx">Removed</span> <span class="nx">the</span> <span class="sb">`Deprecated`</span> <span class="nx">class</span><span class="p">,</span> <span class="k">use</span> <span class="sb">`Replacement`</span> <span class="nx">instead</span><span class="o">.</span>
</pre></div>
</div>
<p>All these tasks are mandatory and must be done in the same pull request.</p>
</div>
<div class="section" id="removing-deprecated-code">
<h2>Removing Deprecated Code<a class="headerlink" href="#removing-deprecated-code" title="Permalink to this headline">¶</a></h2>
<p>Removing deprecated code can only be done once every 2 years, on the next major version of the
impacted component (<code class="docutils literal notranslate"><span class="pre">master</span></code> branch).</p>
<p>When removing deprecated code, the consequences of the deprecation must be added to the <code class="docutils literal notranslate"><span class="pre">CHANGELOG.md</span></code> file
of the impacted component:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="mf">5.0</span><span class="o">.</span><span class="mi">0</span>
<span class="o">-----</span>

<span class="o">*</span> <span class="nx">Removed</span> <span class="nx">the</span> <span class="sb">`Deprecated`</span> <span class="nx">class</span><span class="p">,</span> <span class="k">use</span> <span class="sb">`Replacement`</span> <span class="nx">instead</span><span class="o">.</span>
</pre></div>
</div>
<p>This task is mandatory and must be done in the same pull request.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2004-2020 Fabien Potencier

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>