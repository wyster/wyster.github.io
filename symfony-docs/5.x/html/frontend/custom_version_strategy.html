

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>How to Use a Custom Version Strategy for Assets &mdash; Symfony Framework Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/rtd_custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="HTTP Cache" href="../http_cache.html" />
    <link rel="prev" title="Enabling Vue.js (vue-loader)" href="encore/vuejs.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #f0f0f0" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/symfony-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                5.x}
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_tour/index.html">The Quick Tour</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../best_practices.html">The Symfony Framework Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bundles.html">The Bundle System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console.html">Console Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doctrine.html">Databases and the Doctrine ORM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">How to Deploy a Symfony Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../email.html">Swift Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../event_dispatcher.html">Events and Event Listeners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../forms.html">Forms</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../frontend.html">Managing CSS and JavaScript</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../frontend.html#webpack-encore">Webpack Encore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frontend.html#encore-documentation">Encore Documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../frontend.html#other-front-end-articles">Other Front-End Articles</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="assetic/index.html">Assetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/installation.html">Installing Encore</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/simple-example.html">Encore: Setting up your Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/advanced-config.html">Advanced Webpack Config</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/babel.html">Configuring Babel</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/bootstrap.html">Using Bootstrap CSS &amp; JS</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/cdn.html">Using a CDN</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/code-splitting.html">Async Code Splitting</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/copy-files.html">Copying &amp; Referencing Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/css-preprocessors.html">CSS Preprocessors: Sass, LESS, Stylus, etc.</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/custom-loaders-plugins.html">Adding Custom Loaders &amp; Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/dev-server.html">Using webpack-dev-server and HMR</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/faq.html">FAQ and Common Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/legacy-applications.html">jQuery Plugins and Legacy Applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/page-specific-assets.html">Creating Page-Specific CSS/JS</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/postcss.html">PostCSS and autoprefixing (postcss-loader)</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/reactjs.html">Enabling React.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/server-data.html">Passing Information from Twig to JavaScript</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/shared-entry.html">Creating a Shared Commons Entry</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/sourcemaps.html">Enabling Source Maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/split-chunks.html">Preventing Duplication by “Splitting” Shared Code into Separate Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/typescript.html">Enabling TypeScript (ts-loader)</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/url-loader.html">Inlining files in CSS with Webpack URL Loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/versioning.html">Asset Versioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/virtual-machine.html">Using Encore in a Virtual Machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="encore/vuejs.html">Enabling Vue.js (<code class="docutils literal notranslate"><span class="pre">vue-loader</span></code>)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">How to Use a Custom Version Strategy for Assets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-your-own-asset-version-strategy">Creating your Own Asset Version Strategy</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../http_cache.html">HTTP Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_client.html">HTTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lock.html">Dealing with Concurrency with Locks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mailer.html">Sending Emails with Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mercure.html">Pushing Data to Clients Using the Mercure Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../messenger.html">Messenger: Sync &amp; Queued Message Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">Migrating an Existing Application to Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notifier.html">Creating and Sending Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../profiler.html">Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rate_limiter.html">Rate Limiter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Installing &amp; Setting up the Symfony Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serializer.html">How to Use the Serializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../service_container.html">Service Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../translation.html">Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../validation.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web_link.html">Asset Preloading and Resource Hints with HTTP/2 and WebLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html">Workflow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../components/index.html">The Components</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference Documents</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../create_framework/index.html">Create your own PHP Framework</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Symfony Framework Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../frontend.html">Managing CSS and JavaScript</a> &raquo;</li>
        
      <li>How to Use a Custom Version Strategy for Assets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/frontend/custom_version_strategy.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-use-a-custom-version-strategy-for-assets">
<span id="index-0"></span><h1>How to Use a Custom Version Strategy for Assets<a class="headerlink" href="#how-to-use-a-custom-version-strategy-for-assets" title="Permalink to this headline">¶</a></h1>
<p>Asset versioning is a technique that improves the performance of web
applications by adding a version identifier to the URL of the static assets
(CSS, JavaScript, images, etc.) When the content of the asset changes, its
identifier is also modified to force the browser to download it again instead of
reusing the cached asset.</p>
<p>If your application requires advanced versioning, such as generating the
version dynamically based on some external information, you can create your
own version strategy.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Symfony provides various cache busting implementations via the
<a class="reference internal" href="../reference/configuration/framework.html#reference-framework-assets-version"><span class="std std-ref">version</span></a>,
<a class="reference internal" href="../reference/configuration/framework.html#reference-assets-version-format"><span class="std std-ref">version_format</span></a>, and
<a class="reference internal" href="../reference/configuration/framework.html#reference-assets-json-manifest-path"><span class="std std-ref">json_manifest_path</span></a>
configuration options.</p>
</div>
<div class="section" id="creating-your-own-asset-version-strategy">
<h2>Creating your Own Asset Version Strategy<a class="headerlink" href="#creating-your-own-asset-version-strategy" title="Permalink to this headline">¶</a></h2>
<p>The following example shows how to create a version strategy compatible with
<a class="reference external" href="https://www.npmjs.com/package/gulp-buster">gulp-buster</a>. This tool defines a configuration file called <code class="docutils literal notranslate"><span class="pre">busters.json</span></code>
which maps each asset file to its content hash:</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;js/script.js&quot;</span><span class="p">:</span> <span class="s2">&quot;f9c7afd05729f10f55b689f36bb20172&quot;</span><span class="p">,</span>
    <span class="nt">&quot;css/style.css&quot;</span><span class="p">:</span> <span class="s2">&quot;91cd067f79a5839536b46c494c4272d8&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="section" id="implement-versionstrategyinterface">
<h3>Implement VersionStrategyInterface<a class="headerlink" href="#implement-versionstrategyinterface" title="Permalink to this headline">¶</a></h3>
<p>Asset version strategies are PHP classes that implement the
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Asset/VersionStrategy/VersionStrategyInterface.php" title="Symfony\Component\Asset\VersionStrategy\VersionStrategyInterface"><span class="pre">VersionStrategyInterface</span></a></code>.
In this example, the constructor of the class takes as arguments the path to
the manifest file generated by <a class="reference external" href="https://www.npmjs.com/package/gulp-buster">gulp-buster</a> and the format of the generated
version string:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="c1">// src/Asset/VersionStrategy/GulpBusterVersionStrategy.php</span>
<span class="k">namespace</span> <span class="nx">App\Asset\VersionStrategy</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\Asset\VersionStrategy\VersionStrategyInterface</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">GulpBusterVersionStrategy</span> <span class="k">implements</span> <span class="nx">VersionStrategyInterface</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @var string</span>
<span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$manifestPath</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * @var string</span>
<span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$format</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * @var string[]</span>
<span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$hashes</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * @param string      $manifestPath</span>
<span class="sd">     * @param string|null $format</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$manifestPath</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$format</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">manifestPath</span> <span class="o">=</span> <span class="nv">$manifestPath</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">format</span> <span class="o">=</span> <span class="nv">$format</span> <span class="o">?:</span> <span class="s1">&#39;%s?%s&#39;</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getVersion</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$path</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">is_array</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hashes</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hashes</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">loadManifest</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hashes</span><span class="p">[</span><span class="nv">$path</span><span class="p">])</span> <span class="o">?</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hashes</span><span class="p">[</span><span class="nv">$path</span><span class="p">]</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">applyVersion</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$path</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$version</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getVersion</span><span class="p">(</span><span class="nv">$path</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;&#39;</span> <span class="o">===</span> <span class="nv">$version</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nv">$path</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nb">sprintf</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">format</span><span class="p">,</span> <span class="nv">$path</span><span class="p">,</span> <span class="nv">$version</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">function</span> <span class="nf">loadManifest</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nb">file_get_contents</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">manifestPath</span><span class="p">),</span> <span class="k">true</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="register-the-strategy-service">
<h3>Register the Strategy Service<a class="headerlink" href="#register-the-strategy-service" title="Permalink to this headline">¶</a></h3>
<p>After creating the strategy PHP class, register it as a Symfony service.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/services.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Asset\VersionStrategy\GulpBusterVersionStrategy</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">arguments</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;%kernel.project_dir%/busters.json&quot;</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;%%s?version=%%s&quot;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/services.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span>
<span class="nt">&gt;</span>
    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Asset\VersionStrategy\GulpBusterVersionStrategy&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;argument&gt;</span>%kernel.project_dir%/busters.json<span class="nt">&lt;/argument&gt;</span>
            <span class="nt">&lt;argument&gt;</span>%%s?version=%%s<span class="nt">&lt;/argument&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/services.php</span>
<span class="k">namespace</span> <span class="nx">Symfony\Component\DependencyInjection\Loader\Configurator</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Asset\VersionStrategy\GulpBusterVersionStrategy</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\DependencyInjection\Definition</span><span class="p">;</span>

<span class="k">return</span> <span class="k">function</span><span class="p">(</span><span class="nx">ContainerConfigurator</span> <span class="nv">$configurator</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$services</span> <span class="o">=</span> <span class="nv">$configurator</span><span class="o">-&gt;</span><span class="na">services</span><span class="p">();</span>

    <span class="nv">$services</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="nx">GulpBusterVersionStrategy</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">args</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="s1">&#39;%kernel.project_dir%/busters.json&#39;</span><span class="p">,</span>
                <span class="s1">&#39;%%s?version=%%s&#39;</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">);</span>
<span class="p">};</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<p>Finally, enable the new asset versioning for all the application assets or just
for some <a class="reference internal" href="../reference/configuration/framework.html#reference-framework-assets-packages"><span class="std std-ref">asset package</span></a> thanks to
the <a class="reference internal" href="../reference/configuration/framework.html#reference-assets-version-strategy"><span class="std std-ref">version_strategy</span></a> option:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/packages/framework.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">framework</span><span class="p p-Indicator">:</span>
    <span class="c1"># ...</span>
    <span class="l l-Scalar l-Scalar-Plain">assets</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">version_strategy</span><span class="p p-Indicator">:</span> <span class="s">&#39;App\Asset\VersionStrategy\GulpBusterVersionStrategy&#39;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/packages/framework.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:framework=</span><span class="s">&quot;http://symfony.com/schema/dic/symfony&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;framework:config&gt;</span>
        <span class="nt">&lt;framework:assets</span> <span class="na">version-strategy=</span><span class="s">&quot;App\Asset\VersionStrategy\GulpBusterVersionStrategy&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/framework:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/packages/framework.php</span>
<span class="k">use</span> <span class="nx">App\Asset\VersionStrategy\GulpBusterVersionStrategy</span><span class="p">;</span>

<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;framework&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="c1">// ...</span>
    <span class="s1">&#39;assets&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;version_strategy&#39;</span> <span class="o">=&gt;</span> <span class="nx">GulpBusterVersionStrategy</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">]);</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2004-2020 Fabien Potencier

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>