

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The CssSelector Component &mdash; Symfony Framework Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/rtd_custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Translations" href="../translation.html" />
    <link rel="prev" title="The DomCrawler Component" href="dom_crawler.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #f0f0f0" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/symfony-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                5.2}
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_tour/index.html">The Quick Tour</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../best_practices.html">The Symfony Framework Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bundles.html">The Bundle System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console.html">Console Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doctrine.html">Databases and the Doctrine ORM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">How to Deploy a Symfony Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../email.html">Swift Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../event_dispatcher.html">Events and Event Listeners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../forms.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frontend.html">Managing CSS and JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_cache.html">HTTP Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_client.html">HTTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lock.html">Dealing with Concurrency with Locks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mailer.html">Sending Emails with Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mercure.html">Pushing Data to Clients Using the Mercure Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../messenger.html">Messenger: Sync &amp; Queued Message Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">Migrating an Existing Application to Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notifier.html">Creating and Sending Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../profiler.html">Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rate_limiter.html">Rate Limiter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Installing &amp; Setting up the Symfony Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serializer.html">How to Use the Serializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../service_container.html">Service Container</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../testing.html">Testing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../testing.html#the-phpunit-testing-framework">The PHPUnit Testing Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing.html#unit-tests">Unit Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing.html#functional-tests">Functional Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing.html#testing-against-different-sets-of-data">Testing against Different Sets of Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing.html#working-with-the-test-client">Working with the Test Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing.html#the-crawler">The Crawler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing.html#testing-configuration">Testing Configuration</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../testing.html#learn-more">Learn more</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../testing/bootstrap.html">How to Customize the Bootstrap Process before Running Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../testing/database.html">How to Test Code that Interacts with the Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../testing/functional_tests_assertions.html">Functional Test specific Assertions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../testing/http_authentication.html">How to Simulate HTTP Authentication in a Functional Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="../testing/insulating_clients.html">How to Test the Interaction of several Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../testing/profiling.html">How to Use the Profiler in a Functional Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="dom_crawler.html">The DomCrawler Component</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">The CssSelector Component</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#learn-more">Learn more</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../translation.html">Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../validation.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web_link.html">Asset Preloading and Resource Hints with HTTP/2 and WebLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html">Workflow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">The Components</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference Documents</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../create_framework/index.html">Create your own PHP Framework</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Symfony Framework Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../testing.html">Testing</a> &raquo;</li>
        
      <li>The CssSelector Component</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/components/css_selector.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-cssselector-component">
<span id="index-0"></span><h1>The CssSelector Component<a class="headerlink" href="#the-cssselector-component" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div>The CssSelector component converts CSS selectors to <a class="reference external" href="https://en.wikipedia.org/wiki/XPath">XPath</a> expressions.</div></blockquote>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="highlight-terminal notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">$</span> composer require symfony/css-selector
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you install this component outside of a Symfony application, you must
require the <code class="docutils literal notranslate"><span class="pre">vendor/autoload.php</span></code> file in your code to enable the class
autoloading mechanism provided by Composer. Read
<a class="reference internal" href="using_components.html"><span class="doc">this article</span></a> for more details.</p>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">This article explains how to use the CssSelector features as an independent
component in any PHP application. Read the <a class="reference internal" href="../testing.html#functional-tests"><span class="std std-ref">Symfony Functional Tests</span></a>
article to learn about how to use it when creating Symfony tests.</p>
</div>
<div class="section" id="why-to-use-css-selectors">
<h3>Why to Use CSS selectors?<a class="headerlink" href="#why-to-use-css-selectors" title="Permalink to this headline">¶</a></h3>
<p>When you’re parsing an HTML or an XML document, by far the most powerful
method is <a class="reference external" href="https://en.wikipedia.org/wiki/XPath">XPath</a>.</p>
<p>XPath expressions are incredibly flexible, so there is almost always an
XPath expression that will find the element you need. Unfortunately, they
can also become very complicated, and the learning curve is steep. Even common
operations (such as finding an element with a particular class) can require
long and unwieldy expressions.</p>
<p>Many developers – particularly web developers – are more comfortable
using CSS selectors to find elements. As well as working in stylesheets,
CSS selectors are used in JavaScript with the <code class="docutils literal notranslate"><span class="pre">querySelectorAll()</span></code> function
and in popular JavaScript libraries such as jQuery, Prototype and MooTools.</p>
<p>CSS selectors are less powerful than XPath, but far easier to write, read
and understand. Since they are less powerful, almost all CSS selectors can
be converted to an XPath equivalent. This XPath expression can then be used
with other functions and classes that use XPath to find elements in a
document.</p>
</div>
<div class="section" id="id1">
<h3>The CssSelector Component<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The component’s only goal is to convert CSS selectors to their XPath
equivalents, using <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/CssSelector/CssSelectorConverter.php" title="Symfony\Component\CssSelector\CssSelectorConverter::toXPath()"><span class="pre">toXPath()</span></a></code>:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\CssSelector\CssSelectorConverter</span><span class="p">;</span>

<span class="nv">$converter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CssSelectorConverter</span><span class="p">();</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$converter</span><span class="o">-&gt;</span><span class="na">toXPath</span><span class="p">(</span><span class="s1">&#39;div.item &gt; h4 &gt; a&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>This gives the following output:</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>descendant-or-self::div[@class and contains(concat(&#39; &#39;,normalize-space(@class), &#39; &#39;), &#39; item &#39;)]/h4/a
</pre></div>
</td></tr></table></div>
<p>You can use this expression with, for instance, <code class="docutils literal notranslate"><a class="reference external" href="https://www.php.net/manual/en/class.domxpath.php" title="DOMXPath"><span class="pre">DOMXPath</span></a></code> or
<code class="docutils literal notranslate"><a class="reference external" href="https://www.php.net/manual/en/class.simplexmlelement.php" title="SimpleXMLElement"><span class="pre">SimpleXMLElement</span></a></code> to find elements in a document.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/DomCrawler/Crawler.php" title="Symfony\Component\DomCrawler\Crawler::filter()"><span class="pre">Crawler::filter()</span></a></code> method
uses the CssSelector component to find elements based on a CSS selector
string. See the <a class="reference internal" href="dom_crawler.html"><span class="doc">The DomCrawler Component</span></a> for more details.</p>
</div>
</div>
<div class="section" id="limitations-of-the-cssselector-component">
<h3>Limitations of the CssSelector Component<a class="headerlink" href="#limitations-of-the-cssselector-component" title="Permalink to this headline">¶</a></h3>
<p>Not all CSS selectors can be converted to <a class="reference external" href="https://en.wikipedia.org/wiki/XPath">XPath</a> equivalents.</p>
<p>There are several CSS selectors that only make sense in the context of a
web-browser.</p>
<ul class="simple">
<li>link-state selectors: <code class="docutils literal notranslate"><span class="pre">:link</span></code>, <code class="docutils literal notranslate"><span class="pre">:visited</span></code>, <code class="docutils literal notranslate"><span class="pre">:target</span></code></li>
<li>selectors based on user action: <code class="docutils literal notranslate"><span class="pre">:hover</span></code>, <code class="docutils literal notranslate"><span class="pre">:focus</span></code>, <code class="docutils literal notranslate"><span class="pre">:active</span></code></li>
<li>UI-state selectors: <code class="docutils literal notranslate"><span class="pre">:invalid</span></code>, <code class="docutils literal notranslate"><span class="pre">:indeterminate</span></code> (however, <code class="docutils literal notranslate"><span class="pre">:enabled</span></code>,
<code class="docutils literal notranslate"><span class="pre">:disabled</span></code>, <code class="docutils literal notranslate"><span class="pre">:checked</span></code> and <code class="docutils literal notranslate"><span class="pre">:unchecked</span></code> are available)</li>
</ul>
<p>Pseudo-elements (<code class="docutils literal notranslate"><span class="pre">:before</span></code>, <code class="docutils literal notranslate"><span class="pre">:after</span></code>, <code class="docutils literal notranslate"><span class="pre">:first-line</span></code>,
<code class="docutils literal notranslate"><span class="pre">:first-letter</span></code>) are not supported because they select portions of text
rather than elements.</p>
<p>Pseudo-classes are partially supported:</p>
<ul class="simple">
<li>Not supported: <code class="docutils literal notranslate"><span class="pre">*:first-of-type</span></code>, <code class="docutils literal notranslate"><span class="pre">*:last-of-type</span></code>, <code class="docutils literal notranslate"><span class="pre">*:nth-of-type</span></code> and
<code class="docutils literal notranslate"><span class="pre">*:nth-last-of-type</span></code> (all these work with an element name (e.g.
<code class="docutils literal notranslate"><span class="pre">li:first-of-type</span></code>) but not with the <code class="docutils literal notranslate"><span class="pre">*</span></code> selector).</li>
<li>Supported: <code class="docutils literal notranslate"><span class="pre">*:only-of-type</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="learn-more">
<h2>Learn more<a class="headerlink" href="#learn-more" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../testing.html"><span class="doc">Testing</span></a></li>
<li><a class="reference internal" href="dom_crawler.html"><span class="doc">The DomCrawler Component</span></a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2004-2020 Fabien Potencier

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>