

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Traverse &mdash; Symfony Framework Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/rtd_custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Twig Extensions Defined by Symfony" href="../twig_reference.html" />
    <link rel="prev" title="Valid" href="Valid.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #f0f0f0" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/symfony-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                5.2}
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../quick_tour/index.html">The Quick Tour</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../best_practices.html">The Symfony Framework Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bundles.html">The Bundle System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../console.html">Console Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doctrine.html">Databases and the Doctrine ORM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deployment.html">How to Deploy a Symfony Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../email.html">Swift Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../event_dispatcher.html">Events and Event Listeners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../forms.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../frontend.html">Managing CSS and JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../http_cache.html">HTTP Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../http_client.html">HTTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lock.html">Dealing with Concurrency with Locks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mailer.html">Sending Emails with Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mercure.html">Pushing Data to Clients Using the Mercure Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../messenger.html">Messenger: Sync &amp; Queued Message Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration.html">Migrating an Existing Application to Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notifier.html">Creating and Sending Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../profiler.html">Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rate_limiter.html">Rate Limiter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../session.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup.html">Installing &amp; Setting up the Symfony Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../serializer.html">How to Use the Serializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../service_container.html">Service Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation.html">Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../validation.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web_link.html">Asset Preloading and Resource Hints with HTTP/2 and WebLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../workflow.html">Workflow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../components/index.html">The Components</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Reference Documents</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../configuration/framework.html">Framework Configuration Reference (FrameworkBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/doctrine.html">Doctrine Configuration Reference (DoctrineBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/security.html">Security Configuration Reference (SecurityBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/swiftmailer.html">Mailer Configuration Reference (SwiftmailerBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/twig.html">Twig Configuration Reference (TwigBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/monolog.html">Logging Configuration Reference (MonologBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/web_profiler.html">Profiler Configuration Reference (WebProfilerBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/debug.html">Debug Configuration Reference (DebugBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/kernel.html">Configuring in the Kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../forms/types.html">Form Types Reference</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../constraints.html">Validation Constraints Reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="NotBlank.html">NotBlank</a></li>
<li class="toctree-l3"><a class="reference internal" href="Blank.html">Blank</a></li>
<li class="toctree-l3"><a class="reference internal" href="NotNull.html">NotNull</a></li>
<li class="toctree-l3"><a class="reference internal" href="IsNull.html">IsNull</a></li>
<li class="toctree-l3"><a class="reference internal" href="IsTrue.html">IsTrue</a></li>
<li class="toctree-l3"><a class="reference internal" href="IsFalse.html">IsFalse</a></li>
<li class="toctree-l3"><a class="reference internal" href="Type.html">Type</a></li>
<li class="toctree-l3"><a class="reference internal" href="Email.html">Email</a></li>
<li class="toctree-l3"><a class="reference internal" href="ExpressionLanguageSyntax.html">ExpressionLanguageSyntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="Length.html">Length</a></li>
<li class="toctree-l3"><a class="reference internal" href="Url.html">Url</a></li>
<li class="toctree-l3"><a class="reference internal" href="Regex.html">Regex</a></li>
<li class="toctree-l3"><a class="reference internal" href="Hostname.html">Hostname</a></li>
<li class="toctree-l3"><a class="reference internal" href="Ip.html">Ip</a></li>
<li class="toctree-l3"><a class="reference internal" href="Uuid.html">UUID</a></li>
<li class="toctree-l3"><a class="reference internal" href="Ulid.html">ULID</a></li>
<li class="toctree-l3"><a class="reference internal" href="Json.html">Json</a></li>
<li class="toctree-l3"><a class="reference internal" href="EqualTo.html">EqualTo</a></li>
<li class="toctree-l3"><a class="reference internal" href="NotEqualTo.html">NotEqualTo</a></li>
<li class="toctree-l3"><a class="reference internal" href="IdenticalTo.html">IdenticalTo</a></li>
<li class="toctree-l3"><a class="reference internal" href="NotIdenticalTo.html">NotIdenticalTo</a></li>
<li class="toctree-l3"><a class="reference internal" href="LessThan.html">LessThan</a></li>
<li class="toctree-l3"><a class="reference internal" href="LessThanOrEqual.html">LessThanOrEqual</a></li>
<li class="toctree-l3"><a class="reference internal" href="GreaterThan.html">GreaterThan</a></li>
<li class="toctree-l3"><a class="reference internal" href="GreaterThanOrEqual.html">GreaterThanOrEqual</a></li>
<li class="toctree-l3"><a class="reference internal" href="Range.html">Range</a></li>
<li class="toctree-l3"><a class="reference internal" href="DivisibleBy.html">DivisibleBy</a></li>
<li class="toctree-l3"><a class="reference internal" href="Unique.html">Unique</a></li>
<li class="toctree-l3"><a class="reference internal" href="Positive.html">Positive</a></li>
<li class="toctree-l3"><a class="reference internal" href="PositiveOrZero.html">PositiveOrZero</a></li>
<li class="toctree-l3"><a class="reference internal" href="Negative.html">Negative</a></li>
<li class="toctree-l3"><a class="reference internal" href="NegativeOrZero.html">NegativeOrZero</a></li>
<li class="toctree-l3"><a class="reference internal" href="Date.html">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="DateTime.html">DateTime</a></li>
<li class="toctree-l3"><a class="reference internal" href="Time.html">Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="Timezone.html">Timezone</a></li>
<li class="toctree-l3"><a class="reference internal" href="Choice.html">Choice</a></li>
<li class="toctree-l3"><a class="reference internal" href="Collection.html">Collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="Count.html">Count</a></li>
<li class="toctree-l3"><a class="reference internal" href="UniqueEntity.html">UniqueEntity</a></li>
<li class="toctree-l3"><a class="reference internal" href="Language.html">Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="Locale.html">Locale</a></li>
<li class="toctree-l3"><a class="reference internal" href="Country.html">Country</a></li>
<li class="toctree-l3"><a class="reference internal" href="File.html">File</a></li>
<li class="toctree-l3"><a class="reference internal" href="Image.html">Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="CardScheme.html">CardScheme</a></li>
<li class="toctree-l3"><a class="reference internal" href="Currency.html">Currency</a></li>
<li class="toctree-l3"><a class="reference internal" href="Luhn.html">Luhn</a></li>
<li class="toctree-l3"><a class="reference internal" href="Iban.html">IBAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="Bic.html">Bic</a></li>
<li class="toctree-l3"><a class="reference internal" href="Isbn.html">Isbn</a></li>
<li class="toctree-l3"><a class="reference internal" href="Issn.html">Issn</a></li>
<li class="toctree-l3"><a class="reference internal" href="Isin.html">Isin</a></li>
<li class="toctree-l3"><a class="reference internal" href="AtLeastOneOf.html">AtLeastOneOf</a></li>
<li class="toctree-l3"><a class="reference internal" href="Sequentially.html">Sequentially</a></li>
<li class="toctree-l3"><a class="reference internal" href="Compound.html">Compound</a></li>
<li class="toctree-l3"><a class="reference internal" href="Callback.html">Callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="Expression.html">Expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="All.html">All</a></li>
<li class="toctree-l3"><a class="reference internal" href="UserPassword.html">UserPassword</a></li>
<li class="toctree-l3"><a class="reference internal" href="NotCompromisedPassword.html">NotCompromisedPassword</a></li>
<li class="toctree-l3"><a class="reference internal" href="Valid.html">Valid</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Traverse</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-usage">Basic Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#options">Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../constraints.html#supported-constraints">Supported Constraints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../twig_reference.html">Twig Extensions Defined by Symfony</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dic_tags.html">Built-in Symfony Service Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../events.html">Built-in Symfony Events</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../create_framework/index.html">Create your own PHP Framework</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Symfony Framework Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Reference Documents</a> &raquo;</li>
        
          <li><a href="../constraints.html">Validation Constraints Reference</a> &raquo;</li>
        
      <li>Traverse</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/reference/constraints/Traverse.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="traverse">
<h1>Traverse<a class="headerlink" href="#traverse" title="Permalink to this headline">¶</a></h1>
<p>Object properties are only validated if they are accessible, either by being
public or having public accessor methods (e.g. a public getter).
If your object needs to be traversed to validate its data, you can use this
constraint.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Applies to</td>
<td><a class="reference internal" href="../../validation.html#validation-class-target"><span class="std std-ref">class</span></a></td>
</tr>
<tr class="row-even"><td>Options</td>
<td><ul class="first last simple">
<li><a class="reference internal" href="#payload">payload</a></li>
<li><a class="reference internal" href="#traverse-option"><span class="std std-ref">traverse</span></a></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Class</td>
<td><code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Validator/Constraints/Traverse.php" title="Symfony\Component\Validator\Constraints\Traverse"><span class="pre">Traverse</span></a></code></td>
</tr>
</tbody>
</table>
<div class="section" id="basic-usage">
<h2>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p>In the following example, create two classes <code class="docutils literal notranslate"><span class="pre">BookCollection</span></code> and <code class="docutils literal notranslate"><span class="pre">Book</span></code>
that all have constraints on their properties.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Annotations</em><div class="highlight-php-annotations notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// src/Entity/BookCollection.php</span>
<span class="k">namespace</span> <span class="nx">App\Entity</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Doctrine\Common\Collections\ArrayCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Doctrine\Common\Collections\Collection</span>
<span class="k">use</span> <span class="nx">Doctrine\ORM\Mapping</span> <span class="k">as</span> <span class="nx">ORM</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Constraints</span> <span class="k">as</span> <span class="nx">Assert</span><span class="p">;</span>

<span class="sd">/**</span>
<span class="sd"> * @ORM\Entity</span>
<span class="sd"> * @Assert\Traverse</span>
<span class="sd"> */</span>
<span class="k">class</span> <span class="nc">BookCollection</span> <span class="k">implements</span> <span class="nx">\IteratorAggregate</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @var string</span>
<span class="sd">     *</span>
<span class="sd">     * @ORM\Column</span>
<span class="sd">     *</span>
<span class="sd">     * @Assert\NotBlank</span>
<span class="sd">     */</span>
    <span class="k">protected</span> <span class="nv">$name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * @var Collection|Book[]</span>
<span class="sd">     *</span>
<span class="sd">     * @ORM\ManyToMany(targetEntity=&quot;App\Entity\Book&quot;)</span>
<span class="sd">     */</span>
    <span class="k">protected</span> <span class="nv">$books</span><span class="p">;</span>

    <span class="c1">// some other properties</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">books</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ArrayCollection</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="c1">// ... setter for name, adder and remover for books</span>

    <span class="c1">// the name can be validated by calling the getter</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getName</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @return \Generator|Book[] The books for a given author</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getBooksForAuthor</span><span class="p">(</span><span class="nx">Author</span> <span class="nv">$author</span><span class="p">)</span><span class="o">:</span> <span class="nx">iterable</span>
    <span class="p">{</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">books</span> <span class="k">as</span> <span class="nv">$book</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nv">$book</span><span class="o">-&gt;</span><span class="na">isAuthoredBy</span><span class="p">(</span><span class="nv">$author</span><span class="p">))</span> <span class="p">{</span>
                <span class="k">yield</span> <span class="nv">$book</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// neither the method above nor any other specific getter</span>
    <span class="c1">// could be used to validated all nested books;</span>
    <span class="c1">// this object needs to be traversed to call the iterator</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getIterator</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">books</span><span class="o">-&gt;</span><span class="na">getIterator</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/validator/validation.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">App\Entity\BookCollection</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">constraints</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Traverse</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">~</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/validator/validation.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;constraint-mapping</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/constraint-mapping&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/constraint-mapping https://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;class</span> <span class="na">name=</span><span class="s">&quot;App\Entity\BookCollection&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;constraint</span> <span class="na">name=</span><span class="s">&quot;Traverse&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/class&gt;</span>
<span class="nt">&lt;/constraint-mapping&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// src/Entity/BookCollection.php</span>
<span class="k">namespace</span> <span class="nx">App\Entity</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Constraints</span> <span class="k">as</span> <span class="nx">Assert</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Mapping\ClassMetadata</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">BookCollection</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">loadValidatorMetadata</span><span class="p">(</span><span class="nx">ClassMetadata</span> <span class="nv">$metadata</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$metadata</span><span class="o">-&gt;</span><span class="na">addConstraint</span><span class="p">(</span><span class="k">new</span> <span class="nx">Assert\Traverse</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<p>When the object implements <code class="docutils literal notranslate"><span class="pre">\Traversable</span></code> (like here with its child
<code class="docutils literal notranslate"><span class="pre">\IteratorAggregate</span></code>), its traversal strategy will implicitly be set and the
object will be iterated over without defining the constraint.
It’s mostly useful to add it to be explicit or to disable the traversal using
the <code class="docutils literal notranslate"><span class="pre">traverse</span></code> option.
If a public getter exists to return the inner books collection like
<code class="docutils literal notranslate"><span class="pre">getBooks():</span> <span class="pre">Collection</span></code>, the <a class="reference internal" href="Valid.html"><span class="doc">Valid</span></a> constraint
can be used on the <code class="docutils literal notranslate"><span class="pre">$books</span></code> property instead.</p>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">groups</span></code> option is not available for this constraint.</p>
<div class="section" id="traverse-option">
<span id="id1"></span><h3><code class="docutils literal notranslate"><span class="pre">traverse</span></code><a class="headerlink" href="#traverse-option" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">boolean</span></code> <strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
<p>Instances of <code class="docutils literal notranslate"><span class="pre">\Traversable</span></code> are traversed by default, use this option to
disable validating:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Annotations</em><div class="highlight-php-annotations notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// src/Entity/BookCollection.php</span>

<span class="c1">// ... same as above</span>

<span class="sd">/**</span>
<span class="sd"> * ...</span>
<span class="sd"> * @Assert\Traverse(false)</span>
<span class="sd"> */</span>
 <span class="k">class</span> <span class="nc">BookCollection</span> <span class="k">implements</span> <span class="nx">\IteratorAggregate</span>
 <span class="p">{</span>
     <span class="c1">// ...</span>
 <span class="p">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/validator/validation.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">App\Entity\BookCollection</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">constraints</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Traverse</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/validator/validation.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;constraint-mapping</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/constraint-mapping&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/constraint-mapping https://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;class</span> <span class="na">name=</span><span class="s">&quot;App\Entity\BookCollection&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;constraint</span> <span class="na">name=</span><span class="s">&quot;Traverse&quot;</span><span class="nt">&gt;</span>false<span class="nt">&lt;/constraint&gt;</span>
    <span class="nt">&lt;/class&gt;</span>
<span class="nt">&lt;/constraint-mapping&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// src/Entity/BookCollection.php</span>
<span class="k">namespace</span> <span class="nx">App\Entity</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Constraints</span> <span class="k">as</span> <span class="nx">Assert</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Mapping\ClassMetadata</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">BookCollection</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">loadValidatorMetadata</span><span class="p">(</span><span class="nx">ClassMetadata</span> <span class="nv">$metadata</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$metadata</span><span class="o">-&gt;</span><span class="na">addConstraint</span><span class="p">(</span><span class="k">new</span> <span class="nx">Assert\Traverse</span><span class="p">(</span><span class="k">false</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
</div>
<div class="section" id="payload">
<h3><code class="docutils literal notranslate"><span class="pre">payload</span></code><a class="headerlink" href="#payload" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">mixed</span></code> <strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">null</span></code></p>
<p>This option can be used to attach arbitrary domain-specific data to a constraint.
The configured payload is not used by the Validator component, but its processing
is completely up to you.</p>
<p>For example, you may want to use
<a class="reference internal" href="../../validation/severity.html"><span class="doc">several error levels</span></a> to present failed
constraints differently in the front-end depending on the severity of the
error.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2004-2020 Fabien Potencier

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>