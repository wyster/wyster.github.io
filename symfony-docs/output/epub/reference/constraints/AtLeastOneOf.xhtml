<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>AtLeastOneOf</title>
    <link rel="stylesheet" href="../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/rtd_custom.css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="atleastoneof">
<h1>AtLeastOneOf</h1>
<p>This constraint checks that the value satisfies at least one of the given
constraints. The validation stops as soon as one constraint is satisfied.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.1: </span>The <code class="docutils literal notranslate"><span class="pre">AtLeastOneOf</span></code> constraint was introduced in Symfony 5.1.</p>
</div>
<table class="docutils">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Applies to</p></td>
<td><p><a class="reference internal" href="../../validation.xhtml#validation-property-target"><span class="std std-ref">property or method</span></a></p></td>
</tr>
<tr class="row-even"><td><p>Options</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="#constraints">constraints</a></p></li>
<li><p><a class="reference internal" href="#includeinternalmessages">includeInternalMessages</a></p></li>
<li><p><a class="reference internal" href="#message">message</a></p></li>
<li><p><a class="reference internal" href="#messagecollection">messageCollection</a></p></li>
<li><p><a class="reference internal" href="#groups">groups</a></p></li>
<li><p><a class="reference internal" href="#payload">payload</a></p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Class</p></td>
<td><p><code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Validator/Constraints/AtLeastOneOf.php" title="Symfony\Component\Validator\Constraints\AtLeastOneOf"><span class="pre">AtLeastOneOf</span></a><span class="link-target"> <span class="pre">[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Validator/Constraints/AtLeastOneOf.php]</span></span></code></p></td>
</tr>
<tr class="row-even"><td><p>Validator</p></td>
<td><p><code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Validator/Constraints/AtLeastOneOfValidator.php" title="Symfony\Component\Validator\Constraints\AtLeastOneOfValidator"><span class="pre">AtLeastOneOfValidator</span></a><span class="link-target"> <span class="pre">[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Validator/Constraints/AtLeastOneOfValidator.php]</span></span></code></p></td>
</tr>
</tbody>
</table>
<div class="section" id="basic-usage">
<h2>Basic Usage</h2>
<p>The following constraints ensure that:</p>
<ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">password</span></code> of a <code class="docutils literal notranslate"><span class="pre">Student</span></code> either contains <code class="docutils literal notranslate"><span class="pre">#</span></code> or is at least <code class="docutils literal notranslate"><span class="pre">10</span></code>
characters long;</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">grades</span></code> of a <code class="docutils literal notranslate"><span class="pre">Student</span></code> is an array which contains at least <code class="docutils literal notranslate"><span class="pre">3</span></code>
elements or that each element is greater than or equal to <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p></li>
</ul>
<div class="configuration-block">
<ul class="simple">
<li><p><em>Annotations</em><div class="highlight-php-annotations notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// src/Entity/Student.php</span>
<span class="k">namespace</span> <span class="nx">App\Entity</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Constraints</span> <span class="k">as</span> <span class="nx">Assert</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Student</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @Assert\AtLeastOneOf({</span>
<span class="sd">     *     @Assert\Regex(&quot;/#/&quot;),</span>
<span class="sd">     *     @Assert\Length(min=10)</span>
<span class="sd">     * })</span>
<span class="sd">     */</span>
    <span class="k">protected</span> <span class="nv">$password</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * @Assert\AtLeastOneOf({</span>
<span class="sd">     *     @Assert\Count(min=3),</span>
<span class="sd">     *     @Assert\All(</span>
<span class="sd">     *         @Assert\GreaterThanOrEqual(5)</span>
<span class="sd">     *     )</span>
<span class="sd">     * })</span>
<span class="sd">     */</span>
    <span class="k">protected</span> <span class="nv">$grades</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</p></li>
<li><p><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/validator/validation.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">App\Entity\Student</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">password</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">AtLeastOneOf</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Regex</span><span class="p p-Indicator">:</span> <span class="s">&#39;/#/&#39;</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Length</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">min</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
        <span class="l l-Scalar l-Scalar-Plain">grades</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">AtLeastOneOf</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Count</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">min</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">All</span><span class="p p-Indicator">:</span>
                    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">GreaterThanOrEqual</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</td></tr></table></div>
</p></li>
<li><p><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/validator/validation.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;constraint-mapping</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/constraint-mapping&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/constraint-mapping https://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;class</span> <span class="na">name=</span><span class="s">&quot;App\Entity\Student&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;password&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;constraint</span> <span class="na">name=</span><span class="s">&quot;AtLeastOneOf&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&quot;constraints&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;constraint</span> <span class="na">name=</span><span class="s">&quot;Regex&quot;</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&quot;pattern&quot;</span><span class="nt">&gt;</span>/#/<span class="nt">&lt;/option&gt;</span>
                    <span class="nt">&lt;/constraint&gt;</span>
                    <span class="nt">&lt;constraint</span> <span class="na">name=</span><span class="s">&quot;Length&quot;</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&quot;min&quot;</span><span class="nt">&gt;</span>10<span class="nt">&lt;/option&gt;</span>
                    <span class="nt">&lt;/constraint&gt;</span>
                <span class="nt">&lt;/option&gt;</span>
            <span class="nt">&lt;/constraint&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;grades&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;constraint</span> <span class="na">name=</span><span class="s">&quot;AtLeastOneOf&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&quot;constraints&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;constraint</span> <span class="na">name=</span><span class="s">&quot;Count&quot;</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&quot;min&quot;</span><span class="nt">&gt;</span>3<span class="nt">&lt;/option&gt;</span>
                    <span class="nt">&lt;/constraint&gt;</span>
                    <span class="nt">&lt;constraint</span> <span class="na">name=</span><span class="s">&quot;All&quot;</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&quot;constraints&quot;</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;constraint</span> <span class="na">name=</span><span class="s">&quot;GreaterThanOrEqual&quot;</span><span class="nt">&gt;</span>
                                5
                            <span class="nt">&lt;/constraint&gt;</span>
                        <span class="nt">&lt;/option&gt;</span>
                    <span class="nt">&lt;/constraint&gt;</span>
                <span class="nt">&lt;/option&gt;</span>
            <span class="nt">&lt;/constraint&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;/class&gt;</span>
<span class="nt">&lt;/constraint-mapping&gt;</span>
</pre></div>
</td></tr></table></div>
</p></li>
<li><p><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// src/Entity/Student.php</span>
<span class="k">namespace</span> <span class="nx">App\Entity</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Constraints</span> <span class="k">as</span> <span class="nx">Assert</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Mapping\ClassMetadata</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Student</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">loadValidatorMetadata</span><span class="p">(</span><span class="nx">ClassMetadata</span> <span class="nv">$metadata</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$metadata</span><span class="o">-&gt;</span><span class="na">addPropertyConstraint</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Assert\AtLeastOneOf</span><span class="p">([</span>
            <span class="s1">&#39;constraints&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="k">new</span> <span class="nx">Assert\Regex</span><span class="p">([</span><span class="s1">&#39;pattern&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/#/&#39;</span><span class="p">]),</span>
                <span class="k">new</span> <span class="nx">Assert\Length</span><span class="p">([</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">]),</span>
            <span class="p">],</span>
        <span class="p">]));</span>

        <span class="nv">$metadata</span><span class="o">-&gt;</span><span class="na">addPropertyConstraint</span><span class="p">(</span><span class="s1">&#39;grades&#39;</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Assert\AtLeastOneOf</span><span class="p">([</span>
            <span class="s1">&#39;constraints&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="k">new</span> <span class="nx">Assert\Count</span><span class="p">([</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">]),</span>
                <span class="k">new</span> <span class="nx">Assert\All</span><span class="p">([</span>
                    <span class="s1">&#39;constraints&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                        <span class="k">new</span> <span class="nx">Assert\GreaterThanOrEqual</span><span class="p">([</span><span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">]),</span>
                    <span class="p">],</span>
                <span class="p">]),</span>
            <span class="p">],</span>
        <span class="p">]));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</p></li>
</ul>
</div>
</div>
<div class="section" id="options">
<h2>Options</h2>
<div class="section" id="constraints">
<h3>constraints</h3>
<p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">array</span></code> [<a class="reference internal" href="../../validation.xhtml#validation-default-option"><span class="std std-ref">default option</span></a>]</p>
<p>This required option is the array of validation constraints from which at least one of
has to be satisfied in order for the validation to succeed.</p>
</div>
<div class="section" id="includeinternalmessages">
<h3>includeInternalMessages</h3>
<p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">boolean</span></code> <strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the message that is shown if the validation fails,
will include the list of messages for the internal constraints. See option
<a class="reference internal" href="#message">message</a> for an example.</p>
</div>
<div class="section" id="message">
<h3>message</h3>
<p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">string</span></code> <strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">This</span> <span class="pre">value</span> <span class="pre">should</span> <span class="pre">satisfy</span> <span class="pre">at</span> <span class="pre">least</span> <span class="pre">one</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">following</span> <span class="pre">constraints:</span></code></p>
<p>This is the intro of the message that will be shown if the validation fails. By default,
it will be followed by the list of messages for the internal constraints
(configurable by <a class="reference internal" href="#includeinternalmessages">includeInternalMessages</a> option) . For example,
if the above <code class="docutils literal notranslate"><span class="pre">grades</span></code> property fails to validate, the message will be
<code class="docutils literal notranslate"><span class="pre">This</span> <span class="pre">value</span> <span class="pre">should</span> <span class="pre">satisfy</span> <span class="pre">at</span> <span class="pre">least</span> <span class="pre">one</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">following</span> <span class="pre">constraints:</span>
<span class="pre">[1]</span> <span class="pre">This</span> <span class="pre">collection</span> <span class="pre">should</span> <span class="pre">contain</span> <span class="pre">3</span> <span class="pre">elements</span> <span class="pre">or</span> <span class="pre">more.</span>
<span class="pre">[2]</span> <span class="pre">Each</span> <span class="pre">element</span> <span class="pre">of</span> <span class="pre">this</span> <span class="pre">collection</span> <span class="pre">should</span> <span class="pre">satisfy</span> <span class="pre">its</span> <span class="pre">own</span> <span class="pre">set</span> <span class="pre">of</span> <span class="pre">constraints.</span></code></p>
</div>
<div class="section" id="messagecollection">
<h3>messageCollection</h3>
<p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">string</span></code> <strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">Each</span> <span class="pre">element</span> <span class="pre">of</span> <span class="pre">this</span> <span class="pre">collection</span> <span class="pre">should</span> <span class="pre">satisfy</span> <span class="pre">its</span> <span class="pre">own</span> <span class="pre">set</span> <span class="pre">of</span> <span class="pre">constraints.</span></code></p>
<p>This is the message that will be shown if the validation fails
and the internal constraint is either <a class="reference internal" href="All.xhtml"><span class="doc">All</span></a>
or <a class="reference internal" href="Collection.xhtml"><span class="doc">Collection</span></a>. See option <a class="reference internal" href="#message">message</a> for an example.</p>
</div>
<div class="section" id="groups">
<h3><code class="docutils literal notranslate"><span class="pre">groups</span></code></h3>
<p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">array</span></code> | <code class="docutils literal notranslate"><span class="pre">string</span></code></p>
<p>It defines the validation group or groups this constraint belongs to. Read more
about <a class="reference internal" href="../../validation/groups.xhtml"><span class="doc">validation groups</span></a>.</p>
</div>
<div class="section" id="payload">
<h3><code class="docutils literal notranslate"><span class="pre">payload</span></code></h3>
<p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">mixed</span></code> <strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">null</span></code></p>
<p>This option can be used to attach arbitrary domain-specific data to a constraint.
The configured payload is not used by the Validator component, but its processing
is completely up to you.</p>
<p>For example, you may want to use
<a class="reference internal" href="../../validation/severity.xhtml"><span class="doc">several error levels</span></a> to present failed
constraints differently in the front-end depending on the severity of the
error.</p>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>