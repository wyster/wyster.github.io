<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>Adding Custom Loaders &amp; Plugins</title>
    <link rel="stylesheet" href="../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/rtd_custom.css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="adding-custom-loaders-plugins">
<h1>Adding Custom Loaders &amp; Plugins</h1>
<div class="section" id="adding-custom-loaders">
<h2>Adding Custom Loaders</h2>
<p>Encore already comes with a variety of different loaders out of the box,
but if there is a specific loader that you want to use that is not currently supported, you
can add your own loader through the <code class="docutils literal notranslate"><span class="pre">addLoader</span></code> function.
The <code class="docutils literal notranslate"><span class="pre">addLoader</span></code> takes any valid webpack rules config.</p>
<p>If, for example, you want to add the <a class="reference external" href="https://github.com/pcardune/handlebars-loader">handlebars-loader</a><span class="link-target"> [https://github.com/pcardune/handlebars-loader]</span>, call <code class="docutils literal notranslate"><span class="pre">addLoader</span></code> with
your loader config</p>
<div class="highlight-javascript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">Encore</span>
    <span class="c1">// ...</span>
    <span class="p">.</span><span class="nx">addLoader</span><span class="p">({</span> <span class="nx">test</span><span class="o">:</span> <span class="sr">/\.handlebars$/</span><span class="p">,</span> <span class="nx">loader</span><span class="o">:</span> <span class="s1">&#39;handlebars-loader&#39;</span> <span class="p">})</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
<p>Since the loader config accepts any valid Webpack rules object, you can pass any
additional information your need for the loader</p>
<div class="highlight-javascript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">Encore</span>
    <span class="c1">// ...</span>
    <span class="p">.</span><span class="nx">addLoader</span><span class="p">({</span>
        <span class="nx">test</span><span class="o">:</span> <span class="sr">/\.handlebars$/</span><span class="p">,</span>
        <span class="nx">loader</span><span class="o">:</span> <span class="s1">&#39;handlebars-loader&#39;</span><span class="p">,</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">helperDirs</span><span class="o">:</span> <span class="p">[</span>
                <span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/helpers1&#39;</span><span class="p">,</span>
                <span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/helpers2&#39;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="nx">partialDirs</span><span class="o">:</span> <span class="p">[</span>
                <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s1">&#39;templates&#39;</span><span class="p">,</span> <span class="s1">&#39;partials&#39;</span><span class="p">)</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">})</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="adding-custom-plugins">
<h2>Adding Custom Plugins</h2>
<p>Encore uses a variety of different <a class="reference external" href="https://webpack.js.org/plugins/">plugins</a><span class="link-target"> [https://webpack.js.org/plugins/]</span> internally. But, you can add your own
via the <code class="docutils literal notranslate"><span class="pre">addPlugin()</span></code> method. For example, if you use <a class="reference external" href="https://momentjs.com/">Moment.js</a><span class="link-target"> [https://momentjs.com/]</span>, you might want
to use the <a class="reference external" href="https://webpack.js.org/plugins/ignore-plugin/">IgnorePlugin</a><span class="link-target"> [https://webpack.js.org/plugins/ignore-plugin/]</span> (see <a class="reference external" href="https://github.com/moment/moment/issues/2373">moment/moment#2373</a><span class="link-target"> [https://github.com/moment/moment/issues/2373]</span>):</p>
<div class="highlight-diff notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>// webpack.config.js
<span class="gi">+ var webpack = require(&#39;webpack&#39;);</span>

Encore
    // ...

<span class="gi">+     .addPlugin(new webpack.IgnorePlugin(/^\.\/locale$/, /moment$/))</span>
;
</pre></div>
</td></tr></table></div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>