<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>Formatter Helper</title>
    <link rel="stylesheet" href="../../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/rtd_custom.css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="formatter-helper">
<span id="index-0"></span><h1>Formatter Helper</h1>
<p>The Formatter helper provides functions to format the output with colors.
You can do more advanced things with this helper than you can in
<a class="reference internal" href="../../../console/coloring.xhtml"><span class="doc">How to Color and Style the Console Output</span></a>.</p>
<p>The <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Helper/FormatterHelper.php" title="Symfony\Component\Console\Helper\FormatterHelper"><span class="pre">FormatterHelper</span></a><span class="link-target"> <span class="pre">[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Helper/FormatterHelper.php]</span></span></code> is included
in the default helper set, which you can get by calling
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Command/Command.php" title="Symfony\Component\Console\Command\Command::getHelperSet()"><span class="pre">getHelperSet()</span></a><span class="link-target"> <span class="pre">[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Command/Command.php]</span></span></code>:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="nv">$formatter</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getHelper</span><span class="p">(</span><span class="s1">&#39;formatter&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The methods return a string, which you’ll usually render to the console by
passing it to the
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Output/OutputInterface.php" title="Symfony\Component\Console\Output\OutputInterface::writeln()"><span class="pre">OutputInterface::writeln</span></a><span class="link-target"> <span class="pre">[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Output/OutputInterface.php]</span></span></code> method.</p>
<div class="section" id="print-messages-in-a-section">
<h2>Print Messages in a Section</h2>
<p>Symfony offers a defined style when printing a message that belongs to some
“section”. It prints the section in color and with brackets around it and the
actual message to the right of this. Minus the color, it looks like this:</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>[SomeSection] Here is some message related to that section
</pre></div>
</td></tr></table></div>
<p>To reproduce this style, you can use the
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Helper/FormatterHelper.php" title="Symfony\Component\Console\Helper\FormatterHelper::formatSection()"><span class="pre">formatSection()</span></a><span class="link-target"> <span class="pre">[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Helper/FormatterHelper.php]</span></span></code>
method:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="nv">$formattedLine</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">formatSection</span><span class="p">(</span>
    <span class="s1">&#39;SomeSection&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Here is some message related to that section&#39;</span>
<span class="p">);</span>
<span class="nv">$output</span><span class="o">-&gt;</span><span class="na">writeln</span><span class="p">(</span><span class="nv">$formattedLine</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="print-messages-in-a-block">
<h2>Print Messages in a Block</h2>
<p>Sometimes you want to be able to print a whole block of text with a background
color. Symfony uses this when printing error messages.</p>
<p>If you print your error message on more than one line manually, you will
notice that the background is only as long as each individual line. Use the
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Helper/FormatterHelper.php" title="Symfony\Component\Console\Helper\FormatterHelper::formatBlock()"><span class="pre">formatBlock()</span></a><span class="link-target"> <span class="pre">[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Helper/FormatterHelper.php]</span></span></code>
to generate a block output:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="nv">$errorMessages</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Error!&#39;</span><span class="p">,</span> <span class="s1">&#39;Something went wrong&#39;</span><span class="p">];</span>
<span class="nv">$formattedBlock</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">formatBlock</span><span class="p">(</span><span class="nv">$errorMessages</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">);</span>
<span class="nv">$output</span><span class="o">-&gt;</span><span class="na">writeln</span><span class="p">(</span><span class="nv">$formattedBlock</span><span class="p">);</span>
</pre></div>
</div>
<p>As you can see, passing an array of messages to the
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Helper/FormatterHelper.php" title="Symfony\Component\Console\Helper\FormatterHelper::formatBlock()"><span class="pre">formatBlock()</span></a><span class="link-target"> <span class="pre">[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Helper/FormatterHelper.php]</span></span></code>
method creates the desired output. If you pass <code class="docutils literal notranslate"><span class="pre">true</span></code> as third parameter, the
block will be formatted with more padding (one blank line above and below the
messages and 2 spaces on the left and right).</p>
<p>The exact “style” you use in the block is up to you. In this case, you’re using
the pre-defined <code class="docutils literal notranslate"><span class="pre">error</span></code> style, but there are other styles, or you can create
your own. See <a class="reference internal" href="../../../console/coloring.xhtml"><span class="doc">How to Color and Style the Console Output</span></a>.</p>
</div>
<div class="section" id="print-truncated-messages">
<h2>Print Truncated Messages</h2>
<p>Sometimes you want to print a message truncated to an explicit character length.
This is possible with the
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Helper/FormatterHelper.php" title="Symfony\Component\Console\Helper\FormatterHelper::truncate()"><span class="pre">truncate()</span></a><span class="link-target"> <span class="pre">[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Helper/FormatterHelper.php]</span></span></code> method.</p>
<p>If you would like to truncate a very long message, for example, to 7 characters,
you can write:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="nv">$message</span> <span class="o">=</span> <span class="s2">&quot;This is a very long message, which should be truncated&quot;</span><span class="p">;</span>
<span class="nv">$truncatedMessage</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
<span class="nv">$output</span><span class="o">-&gt;</span><span class="na">writeln</span><span class="p">(</span><span class="nv">$truncatedMessage</span><span class="p">);</span>
</pre></div>
</div>
<p>And the output will be:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">This</span> <span class="nx">is</span><span class="o">...</span>
</pre></div>
</div>
<p>The message is truncated to the given length, then the suffix is appended to end
of that string.</p>
<div class="section" id="negative-string-length">
<h3>Negative String Length</h3>
<p>If the length is negative, the number of characters to truncate is counted
from the end of the string:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="nv">$truncatedMessage</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">);</span>
</pre></div>
</div>
<p>This will result in:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">This</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">very</span> <span class="nx">long</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">which</span> <span class="nx">should</span> <span class="nx">be</span> <span class="nx">trun</span><span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-suffix">
<h3>Custom Suffix</h3>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">...</span></code> suffix is used. If you wish to use a different suffix,
pass it as the third argument to the method.
The suffix is always appended, unless truncate length is longer than a message
and a suffix length.
If you don’t want to use suffix at all, pass an empty string:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="nv">$truncatedMessage</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;!!&#39;</span><span class="p">);</span> <span class="c1">// result: This is!!</span>
<span class="nv">$truncatedMessage</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>   <span class="c1">// result: This is</span>

<span class="nv">$truncatedMessage</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="c1">// result: test</span>
<span class="c1">// because length of the &quot;test...&quot; string is shorter than 10</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>