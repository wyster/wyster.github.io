<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>Adapters For Interoperability between PSR-6 and PSR-16 Cache</title>
    <link rel="stylesheet" href="../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/rtd_custom.css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="adapters-for-interoperability-between-psr-6-and-psr-16-cache">
<span id="index-0"></span><h1>Adapters For Interoperability between PSR-6 and PSR-16 Cache</h1>
<p>Sometimes, you may have a Cache object that implements the <a class="reference external" href="https://www.php-fig.org/psr/psr-16/">PSR-16</a><span class="link-target"> [https://www.php-fig.org/psr/psr-16/]</span>
standard, but need to pass it to an object that expects a <a class="reference internal" href="../cache.xhtml#cache-component-psr6-caching"><span class="std std-ref">PSR-6</span></a>
cache adapter. Or, you might have the opposite situation. The cache component contains
two classes for bidirectional interoperability between PSR-6 and PSR-16 caches.</p>
<div class="section" id="using-a-psr-16-cache-object-as-a-psr-6-cache">
<h2>Using a PSR-16 Cache Object as a PSR-6 Cache</h2>
<p>Suppose you want to work with a class that requires a PSR-6 Cache pool object. For
example:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Psr\Cache\CacheItemPoolInterface</span><span class="p">;</span>

<span class="c1">// just a made-up class for the example</span>
<span class="k">class</span> <span class="nc">GitHubApiClient</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="c1">// this requires a PSR-6 cache object</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">CacheItemPoolInterface</span> <span class="nv">$cachePool</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>But, you already have a PSR-16 cache object, and you’d like to pass this to the class
instead. No problem! The Cache component provides the
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Cache/Adapter/Psr16Adapter.php" title="Symfony\Component\Cache\Adapter\Psr16Adapter"><span class="pre">Psr16Adapter</span></a><span class="link-target"> <span class="pre">[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Cache/Adapter/Psr16Adapter.php]</span></span></code> class for exactly
this use-case:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Cache\Adapter\Psr16Adapter</span><span class="p">;</span>

<span class="c1">// $psr16Cache is the PSR-16 object that you want to use as a PSR-6 one</span>

<span class="c1">// a PSR-6 cache that uses your cache internally!</span>
<span class="nv">$psr6Cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Psr16Adapter</span><span class="p">(</span><span class="nv">$psr16Cache</span><span class="p">);</span>

<span class="c1">// now use this wherever you want</span>
<span class="nv">$githubApiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GitHubApiClient</span><span class="p">(</span><span class="nv">$psr6Cache</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 4.3: </span>The <code class="docutils literal notranslate"><span class="pre">Psr16Adapter</span></code> class was introduced in Symfony 4.3.</p>
</div>
</div>
<div class="section" id="using-a-psr-6-cache-object-as-a-psr-16-cache">
<h2>Using a PSR-6 Cache Object as a PSR-16 Cache</h2>
<p>Suppose you want to work with a class that requires a PSR-16 Cache object. For
example:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Psr\SimpleCache\CacheInterface</span><span class="p">;</span>

<span class="c1">// just a made-up class for the example</span>
<span class="k">class</span> <span class="nc">GitHubApiClient</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="c1">// this requires a PSR-16 cache object</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">CacheInterface</span> <span class="nv">$cache</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>But, you already have a PSR-6 cache pool object, and you’d like to pass this to
the class instead. No problem! The Cache component provides the
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Cache/Psr16Cache.php" title="Symfony\Component\Cache\Psr16Cache"><span class="pre">Psr16Cache</span></a><span class="link-target"> <span class="pre">[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Cache/Psr16Cache.php]</span></span></code> class for exactly
this use-case:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Cache\Adapter\FilesystemAdapter</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Cache\Psr16Cache</span><span class="p">;</span>

<span class="c1">// the PSR-6 cache object that you want to use</span>
<span class="nv">$psr6Cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FilesystemAdapter</span><span class="p">();</span>

<span class="c1">// a PSR-16 cache that uses your cache internally!</span>
<span class="nv">$psr16Cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Psr16Cache</span><span class="p">(</span><span class="nv">$psr6Cache</span><span class="p">);</span>

<span class="c1">// now use this wherever you want</span>
<span class="nv">$githubApiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GitHubApiClient</span><span class="p">(</span><span class="nv">$psr16Cache</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 4.3: </span>The <code class="docutils literal notranslate"><span class="pre">Psr16Cache</span></code> class was introduced in Symfony 4.3.</p>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>