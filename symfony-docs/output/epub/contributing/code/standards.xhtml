<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>Coding Standards</title>
    <link rel="stylesheet" href="../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/rtd_custom.css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="coding-standards">
<h1>Coding Standards</h1>
<p>Symfony code is contributed by thousands of developers around the world. To make
every piece of code look and feel familiar, Symfony defines some coding standards
that all contributions must follow.</p>
<p>These Symfony coding standards are based on the <a class="reference external" href="https://www.php-fig.org/psr/psr-1/">PSR-1</a><span class="link-target"> [https://www.php-fig.org/psr/psr-1/]</span>, <a class="reference external" href="https://www.php-fig.org/psr/psr-2/">PSR-2</a><span class="link-target"> [https://www.php-fig.org/psr/psr-2/]</span> and <a class="reference external" href="https://www.php-fig.org/psr/psr-4/">PSR-4</a><span class="link-target"> [https://www.php-fig.org/psr/psr-4/]</span>
standards, so you may already know most of them.</p>
<div class="section" id="making-your-code-follow-the-coding-standards">
<h2>Making your Code Follow the Coding Standards</h2>
<p>Instead of reviewing your code manually, Symfony makes it simple to ensure that
your contributed code matches the expected code syntax. First, install the
<a class="reference external" href="https://cs.symfony.com/">PHP CS Fixer tool</a><span class="link-target"> [https://cs.symfony.com/]</span> and then, run this command to fix any problem:</p>
<div class="highlight-terminal notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> your-project/
<span class="gp">$</span> php php-cs-fixer.phar fix -v
</pre></div>
</td></tr></table></div>
<p>If you forget to run this command and make a pull request with any syntax issue,
our automated tools will warn you about that and will provide the solution.</p>
</div>
<div class="section" id="symfony-coding-standards-in-detail">
<h2>Symfony Coding Standards in Detail</h2>
<p>If you want to learn about the Symfony coding standards in detail, here’s a
short example containing most features described below:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm"> * This file is part of the Symfony package.</span>
<span class="cm"> *</span>
<span class="cm"> * (c) Fabien Potencier &lt;fabien@symfony.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * For the full copyright and license information, please view the LICENSE</span>
<span class="cm"> * file that was distributed with this source code.</span>
<span class="cm"> */</span>

<span class="k">namespace</span> <span class="nx">Acme</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Other\Qux</span><span class="p">;</span>

<span class="sd">/**</span>
<span class="sd"> * Coding standards demonstration.</span>
<span class="sd"> */</span>
<span class="k">class</span> <span class="nc">FooBar</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="no">SOME_CONST</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * @var string</span>
<span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$fooBar</span><span class="p">;</span>

    <span class="k">private</span> <span class="nv">$qux</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * @param string $dummy Some argument description</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nv">$dummy</span><span class="p">,</span> <span class="nx">Qux</span> <span class="nv">$qux</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fooBar</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">transformText</span><span class="p">(</span><span class="nv">$dummy</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">qux</span> <span class="o">=</span> <span class="nv">$qux</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @return string</span>
<span class="sd">     *</span>
<span class="sd">     * @deprecated</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">someDeprecatedMethod</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="o">@</span><span class="nb">trigger_error</span><span class="p">(</span><span class="nb">sprintf</span><span class="p">(</span><span class="s1">&#39;The %s() method is deprecated since vendor-name/package-name 2.8 and will be removed in 3.0. Use Acme\Baz::someMethod() instead.&#39;</span><span class="p">,</span> <span class="no">__METHOD__</span><span class="p">),</span> <span class="nx">E_USER_DEPRECATED</span><span class="p">);</span>

        <span class="k">return</span> <span class="nx">Baz</span><span class="o">::</span><span class="na">someMethod</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * Transforms the input given as first argument.</span>
<span class="sd">     *</span>
<span class="sd">     * @param bool|string $dummy   Some argument description</span>
<span class="sd">     * @param array       $options An options collection to be used within the transformation</span>
<span class="sd">     *</span>
<span class="sd">     * @return string|null The transformed input</span>
<span class="sd">     *</span>
<span class="sd">     * @throws \RuntimeException When an invalid option is provided</span>
<span class="sd">     */</span>
    <span class="k">private</span> <span class="k">function</span> <span class="nf">transformText</span><span class="p">(</span><span class="nv">$dummy</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$options</span> <span class="o">=</span> <span class="p">[])</span>
    <span class="p">{</span>
        <span class="nv">$defaultOptions</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;some_default&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;values&#39;</span><span class="p">,</span>
            <span class="s1">&#39;another_default&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;more values&#39;</span><span class="p">,</span>
        <span class="p">];</span>

        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$options</span> <span class="k">as</span> <span class="nv">$name</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">array_key_exists</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$defaultOptions</span><span class="p">))</span> <span class="p">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nx">\RuntimeException</span><span class="p">(</span><span class="nb">sprintf</span><span class="p">(</span><span class="s1">&#39;Unrecognized option &quot;%s&quot;&#39;</span><span class="p">,</span> <span class="nv">$name</span><span class="p">));</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="nv">$mergedOptions</span> <span class="o">=</span> <span class="nb">array_merge</span><span class="p">(</span>
            <span class="nv">$defaultOptions</span><span class="p">,</span>
            <span class="nv">$options</span>
        <span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">true</span> <span class="o">===</span> <span class="nv">$dummy</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s1">&#39;something&#39;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">is_string</span><span class="p">(</span><span class="nv">$dummy</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;values&#39;</span> <span class="o">===</span> <span class="nv">$mergedOptions</span><span class="p">[</span><span class="s1">&#39;some_default&#39;</span><span class="p">])</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$dummy</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="nb">ucwords</span><span class="p">(</span><span class="nv">$dummy</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * Performs some basic operations for a given value.</span>
<span class="sd">     *</span>
<span class="sd">     * @param mixed $value     Some value to operate against</span>
<span class="sd">     * @param bool  $theSwitch Some switch to control the method&#39;s flow</span>
<span class="sd">     */</span>
    <span class="k">private</span> <span class="k">function</span> <span class="nf">performOperations</span><span class="p">(</span><span class="nv">$value</span> <span class="o">=</span> <span class="k">null</span><span class="p">,</span> <span class="nv">$theSwitch</span> <span class="o">=</span> <span class="k">false</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$theSwitch</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">qux</span><span class="o">-&gt;</span><span class="na">doFoo</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">qux</span><span class="o">-&gt;</span><span class="na">doBar</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="structure">
<h3>Structure</h3>
<ul class="simple">
<li><p>Add a single space after each comma delimiter;</p></li>
<li><p>Add a single space around binary operators (<code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>, …), with
the exception of the concatenation (<code class="docutils literal notranslate"><span class="pre">.</span></code>) operator;</p></li>
<li><p>Place unary operators (<code class="docutils literal notranslate"><span class="pre">!</span></code>, <code class="docutils literal notranslate"><span class="pre">--</span></code>, …) adjacent to the affected variable;</p></li>
<li><p>Always use <a class="reference external" href="https://www.php.net/manual/en/language.operators.comparison.php">identical comparison</a><span class="link-target"> [https://www.php.net/manual/en/language.operators.comparison.php]</span> unless you need type juggling;</p></li>
<li><p>Use <a class="reference external" href="https://en.wikipedia.org/wiki/Yoda_conditions">Yoda conditions</a><span class="link-target"> [https://en.wikipedia.org/wiki/Yoda_conditions]</span> when checking a variable against an expression to avoid
an accidental assignment inside the condition statement (this applies to <code class="docutils literal notranslate"><span class="pre">==</span></code>,
<code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">===</span></code>, and <code class="docutils literal notranslate"><span class="pre">!==</span></code>);</p></li>
<li><p>Add a comma after each array item in a multi-line array, even after the
last one;</p></li>
<li><p>Add a blank line before <code class="docutils literal notranslate"><span class="pre">return</span></code> statements, unless the return is alone
inside a statement-group (like an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement);</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">null;</span></code> when a function explicitly returns <code class="docutils literal notranslate"><span class="pre">null</span></code> values and
use <code class="docutils literal notranslate"><span class="pre">return;</span></code> when the function returns <code class="docutils literal notranslate"><span class="pre">void</span></code> values;</p></li>
<li><p>Use braces to indicate control structure body regardless of the number of
statements it contains;</p></li>
<li><p>Define one class per file - this does not apply to private helper classes
that are not intended to be instantiated from the outside and thus are not
concerned by the <a class="reference external" href="https://www.php-fig.org/psr/psr-0/">PSR-0</a><span class="link-target"> [https://www.php-fig.org/psr/psr-0/]</span> and <a class="reference external" href="https://www.php-fig.org/psr/psr-4/">PSR-4</a><span class="link-target"> [https://www.php-fig.org/psr/psr-4/]</span> autoload standards;</p></li>
<li><p>Declare the class inheritance and all the implemented interfaces on the same
line as the class name;</p></li>
<li><p>Declare class properties before methods;</p></li>
<li><p>Declare public methods first, then protected ones and finally private ones.
The exceptions to this rule are the class constructor and the <code class="docutils literal notranslate"><span class="pre">setUp()</span></code> and
<code class="docutils literal notranslate"><span class="pre">tearDown()</span></code> methods of PHPUnit tests, which must always be the first methods
to increase readability;</p></li>
<li><p>Declare all the arguments on the same line as the method/function name, no
matter how many arguments there are;</p></li>
<li><p>Use parentheses when instantiating classes regardless of the number of
arguments the constructor has;</p></li>
<li><p>Exception and error message strings must be concatenated using <code class="docutils literal notranslate"><a class="reference external" href="https://www.php.net/manual/en/function.sprintf.php" title="sprintf"><span class="pre">sprintf</span></a><span class="link-target"> <span class="pre">[https://www.php.net/manual/en/function.sprintf.php]</span></span></code>;</p></li>
<li><p>Calls to <code class="docutils literal notranslate"><a class="reference external" href="https://www.php.net/manual/en/function.trigger-error.php" title="trigger_error"><span class="pre">trigger_error</span></a><span class="link-target"> <span class="pre">[https://www.php.net/manual/en/function.trigger-error.php]</span></span></code> with type <code class="docutils literal notranslate"><span class="pre">E_USER_DEPRECATED</span></code> must be
switched to opt-in via <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> operator.
Read more at <a class="reference internal" href="conventions.xhtml#contributing-code-conventions-deprecations"><span class="std std-ref">Deprecating Code</span></a>;</p></li>
<li><p>Do not use <code class="docutils literal notranslate"><span class="pre">else</span></code>, <code class="docutils literal notranslate"><span class="pre">elseif</span></code>, <code class="docutils literal notranslate"><span class="pre">break</span></code> after <code class="docutils literal notranslate"><span class="pre">if</span></code> and <code class="docutils literal notranslate"><span class="pre">case</span></code> conditions
which return or throw something;</p></li>
<li><p>Do not use spaces around <code class="docutils literal notranslate"><span class="pre">[</span></code> offset accessor and before <code class="docutils literal notranslate"><span class="pre">]</span></code> offset accessor;</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">use</span></code> statement for every class that is not part of the global namespace;</p></li>
<li><p>When PHPDoc tags like <code class="docutils literal notranslate"><span class="pre">&#64;param</span></code> or <code class="docutils literal notranslate"><span class="pre">&#64;return</span></code> include <code class="docutils literal notranslate"><span class="pre">null</span></code> and other
types, always place <code class="docutils literal notranslate"><span class="pre">null</span></code> at the end of the list of types.</p></li>
</ul>
</div>
<div class="section" id="naming-conventions">
<h3>Naming Conventions</h3>
<ul class="simple">
<li><p>Use <a class="reference external" href="https://en.wikipedia.org/wiki/Camel_case">camelCase</a><span class="link-target"> [https://en.wikipedia.org/wiki/Camel_case]</span> for PHP variables, function and method names, arguments
(e.g. <code class="docutils literal notranslate"><span class="pre">$acceptableContentTypes</span></code>, <code class="docutils literal notranslate"><span class="pre">hasSession()</span></code>);</p></li>
<li><p>Use <a class="reference external" href="https://en.wikipedia.org/wiki/Snake_case">snake_case</a><span class="link-target"> [https://en.wikipedia.org/wiki/Snake_case]</span> for configuration parameters and Twig template variables
(e.g. <code class="docutils literal notranslate"><span class="pre">framework.csrf_protection</span></code>, <code class="docutils literal notranslate"><span class="pre">http_status_code</span></code>);</p></li>
<li><p>Use namespaces for all PHP classes and <a class="reference external" href="https://en.wikipedia.org/wiki/Camel_case">UpperCamelCase</a><span class="link-target"> [https://en.wikipedia.org/wiki/Camel_case]</span> for their names (e.g.
<code class="docutils literal notranslate"><span class="pre">ConsoleLogger</span></code>);</p></li>
<li><p>Prefix all abstract classes with <code class="docutils literal notranslate"><span class="pre">Abstract</span></code> except PHPUnit <code class="docutils literal notranslate"><span class="pre">*TestCase</span></code>.
Please note some early Symfony classes do not follow this convention and
have not been renamed for backward compatibility reasons. However, all new
abstract classes must follow this naming convention;</p></li>
<li><p>Suffix interfaces with <code class="docutils literal notranslate"><span class="pre">Interface</span></code>;</p></li>
<li><p>Suffix traits with <code class="docutils literal notranslate"><span class="pre">Trait</span></code>;</p></li>
<li><p>Suffix exceptions with <code class="docutils literal notranslate"><span class="pre">Exception</span></code>;</p></li>
<li><p>Use UpperCamelCase for naming PHP files (e.g. <code class="docutils literal notranslate"><span class="pre">EnvVarProcessor.php</span></code>) and
snake case for naming Twig templates and web assets (<code class="docutils literal notranslate"><span class="pre">section_layout.html.twig</span></code>,
<code class="docutils literal notranslate"><span class="pre">index.scss</span></code>);</p></li>
<li><p>For type-hinting in PHPDocs and casting, use <code class="docutils literal notranslate"><span class="pre">bool</span></code> (instead of <code class="docutils literal notranslate"><span class="pre">boolean</span></code>
or <code class="docutils literal notranslate"><span class="pre">Boolean</span></code>), <code class="docutils literal notranslate"><span class="pre">int</span></code> (instead of <code class="docutils literal notranslate"><span class="pre">integer</span></code>), <code class="docutils literal notranslate"><span class="pre">float</span></code> (instead of
<code class="docutils literal notranslate"><span class="pre">double</span></code> or <code class="docutils literal notranslate"><span class="pre">real</span></code>);</p></li>
<li><p>Don’t forget to look at the more verbose <a class="reference internal" href="conventions.xhtml"><span class="doc">Conventions</span></a> document for
more subjective naming considerations.</p></li>
</ul>
</div>
<div class="section" id="service-naming-conventions">
<span id="id1"></span><h3>Service Naming Conventions</h3>
<ul class="simple">
<li><p>A service name must be the same as the fully qualified class name (FQCN) of
its class (e.g. <code class="docutils literal notranslate"><span class="pre">App\EventSubscriber\UserSubscriber</span></code>);</p></li>
<li><p>If there are multiple services for the same class, use the FQCN for the main
service and use lowercase and underscored names for the rest of services.
Optionally divide them in groups separated with dots (e.g.
<code class="docutils literal notranslate"><span class="pre">something.service_name</span></code>, <code class="docutils literal notranslate"><span class="pre">fos_user.something.service_name</span></code>);</p></li>
<li><p>Use lowercase letters for parameter names (except when referring
to environment variables with the <code class="docutils literal notranslate"><span class="pre">%env(VARIABLE_NAME)%</span></code> syntax);</p></li>
<li><p>Add class aliases for public services (e.g. alias <code class="docutils literal notranslate"><span class="pre">Symfony\Component\Something\ClassName</span></code>
to <code class="docutils literal notranslate"><span class="pre">something.service_name</span></code>).</p></li>
</ul>
</div>
<div class="section" id="documentation">
<h3>Documentation</h3>
<ul class="simple">
<li><p>Add PHPDoc blocks for all classes, methods, and functions (though you may
be asked to remove PHPDoc that do not add value);</p></li>
<li><p>Group annotations together so that annotations of the same type immediately
follow each other, and annotations of a different type are separated by a
single blank line;</p></li>
<li><p>Omit the <code class="docutils literal notranslate"><span class="pre">&#64;return</span></code> tag if the method does not return anything;</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&#64;package</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;subpackage</span></code> annotations are not used;</p></li>
<li><p>Don’t inline PHPDoc blocks, even when they contain just one tag (e.g. don’t
put <code class="docutils literal notranslate"><span class="pre">/**</span> <span class="pre">{&#64;inheritdoc}</span> <span class="pre">*/</span></code> in a single line);</p></li>
<li><p>When adding a new class or when making significant changes to an existing class,
an <code class="docutils literal notranslate"><span class="pre">&#64;author</span></code> tag with personal contact information may be added, or expanded.
Please note it is possible to have the personal contact information updated or
removed per request to the <a class="reference internal" href="core_team.xhtml"><span class="doc">core team</span></a>.</p></li>
</ul>
</div>
<div class="section" id="license">
<h3>License</h3>
<ul class="simple">
<li><p>Symfony is released under the MIT license, and the license block has to be
present at the top of every PHP file, before the namespace.</p></li>
</ul>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>