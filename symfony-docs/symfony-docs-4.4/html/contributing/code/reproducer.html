

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creating a Bug Reproducer &mdash; Symfony Framework Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/rtd_custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Proposing a Change" href="pull_requests.html" />
    <link rel="prev" title="Getting a Stack Trace" href="stack_trace.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #f0f0f0" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/symfony-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                4.4}
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../quick_tour/index.html">The Quick Tour</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../best_practices.html">The Symfony Framework Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bundles.html">The Bundle System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../console.html">Console Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doctrine.html">Databases and the Doctrine ORM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deployment.html">How to Deploy a Symfony Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../email.html">Swift Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../event_dispatcher.html">Events and Event Listeners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../forms.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../frontend.html">Managing CSS and JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../http_cache.html">HTTP Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../http_client.html">HTTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lock.html">Dealing with Concurrency with Locks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mailer.html">Sending Emails with Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mercure.html">Pushing Data to Clients Using the Mercure Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../messenger.html">Messenger: Sync &amp; Queued Message Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration.html">Migrating an Existing Application to Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../profiler.html">Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../session.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup.html">Installing &amp; Setting up the Symfony Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../serializer.html">How to Use the Serializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../service_container.html">Service Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation.html">Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../validation.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web_link.html">Asset Preloading and Resource Hints with HTTP/2 and WebLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../workflow.html">Workflow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../components/index.html">The Components</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">Reference Documents</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Contributing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../code_of_conduct/index.html">Code of Conduct</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Contributing Code</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bugs.html">Reporting a Bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="stack_trace.html">Getting a Stack Trace</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Creating a Bug Reproducer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reproducing-simple-bugs">Reproducing Simple Bugs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reproducing-complex-bugs">Reproducing Complex Bugs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pull_requests.html">Proposing a Change</a></li>
<li class="toctree-l3"><a class="reference internal" href="maintenance.html">Maintenance</a></li>
<li class="toctree-l3"><a class="reference internal" href="core_team.html">Symfony Core Team</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html">Security Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="tests.html">Running Symfony Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="bc.html">Our Backward Compatibility Promise</a></li>
<li class="toctree-l3"><a class="reference internal" href="experimental.html">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="standards.html">Coding Standards</a></li>
<li class="toctree-l3"><a class="reference internal" href="conventions.html">Conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="git.html">Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html">Symfony Code License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Contributing Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../community/index.html">Community</a></li>
<li class="toctree-l2"><a class="reference internal" href="../diversity/index.html">Diversity Initiative</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../create_framework/index.html">Create your own PHP Framework</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Symfony Framework Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Contributing</a> &raquo;</li>
        
          <li><a href="index.html">Contributing Code</a> &raquo;</li>
        
      <li>Creating a Bug Reproducer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/contributing/code/reproducer.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-a-bug-reproducer">
<h1>Creating a Bug Reproducer<a class="headerlink" href="#creating-a-bug-reproducer" title="Permalink to this headline">¶</a></h1>
<p>The main Symfony code repository receives thousands of issues reports per year.
Some of those issues are easy to understand and the Symfony Core developers can
fix them without any other information. However, other issues are much harder to
understand because developers can’t reproduce them in their computers. That’s
when we’ll ask you to create a “bug reproducer”, which is the minimum amount of
code needed to make the bug appear when executed.</p>
<div class="section" id="reproducing-simple-bugs">
<h2>Reproducing Simple Bugs<a class="headerlink" href="#reproducing-simple-bugs" title="Permalink to this headline">¶</a></h2>
<p>If you are reporting a bug related to some Symfony component used outside the
Symfony framework, it’s enough to share a small PHP script that when executed
shows the bug:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="c1">// First, run &quot;composer require symfony/validator&quot;</span>
<span class="c1">// Then, execute this file:</span>
<span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">require_once</span> <span class="no">__DIR__</span><span class="o">.</span><span class="s1">&#39;/vendor/autoload.php&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Constraints</span><span class="p">;</span>

<span class="nv">$wrongUrl</span> <span class="o">=</span> <span class="s1">&#39;http://example.com/exploit.html?&lt;script&gt;alert(1);&lt;/script&gt;&#39;</span><span class="p">;</span>
<span class="nv">$urlValidator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Constraints\UrlValidator</span><span class="p">();</span>
<span class="nv">$urlConstraint</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Constraints\Url</span><span class="p">();</span>

<span class="c1">// The URL is wrong, so var_dump() should display an error, but it displays</span>
<span class="c1">// &quot;null&quot; instead because there is no context to build a validator violation</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$urlValidator</span><span class="o">-&gt;</span><span class="na">validate</span><span class="p">(</span><span class="nv">$wrongUrl</span><span class="p">,</span> <span class="nv">$urlConstraint</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="reproducing-complex-bugs">
<h2>Reproducing Complex Bugs<a class="headerlink" href="#reproducing-complex-bugs" title="Permalink to this headline">¶</a></h2>
<p>If the bug is related to the Symfony Framework or if it’s too complex to create
a PHP script, it’s better to reproduce the bug by creating a new project. To do so:</p>
<ol class="arabic simple">
<li>Create a new project:</li>
</ol>
<div class="highlight-terminal notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">$</span> composer create-project symfony/skeleton bug_app
</pre></div>
</td></tr></table></div>
<ol class="arabic simple">
<li>Add and commit the changes generated by Symfony.</li>
<li>Now you must add the minimum amount of code to reproduce the bug. This is the
trickiest part and it’s explained a bit more later.</li>
<li>Add and commit your changes.</li>
<li>Create a <a class="reference external" href="https://github.com/new">new repository</a> on GitHub (give it any name).</li>
<li>Follow the instructions on GitHub to add the <code class="docutils literal notranslate"><span class="pre">origin</span></code> remote to your local project
and push it.</li>
<li>Add a comment in your original issue report to share the URL of your forked
project (e.g. <code class="docutils literal notranslate"><span class="pre">https://github.com/YOUR-GITHUB-USERNAME/symfony_issue_23567</span></code>)
and, if necessary, explain the steps to reproduce (e.g. “browse this URL”,
“fill in this data in the form and submit it”, etc.)</li>
</ol>
<div class="section" id="adding-the-minimum-amount-of-code-possible">
<h3>Adding the Minimum Amount of Code Possible<a class="headerlink" href="#adding-the-minimum-amount-of-code-possible" title="Permalink to this headline">¶</a></h3>
<p>The key to create a bug reproducer is to solely focus on the feature that you
suspect is failing. For example, imagine that you suspect that the bug is related
to a route definition. Then, after creating your project:</p>
<ol class="arabic simple">
<li>Don’t edit any of the default Symfony configuration options.</li>
<li>Don’t copy your original application code and don’t use the same structure
of controllers, actions, etc. as in your original application.</li>
<li>Create a small controller and add your routing definition that shows the bug.</li>
<li>Don’t create or modify any other file.</li>
<li>Execute <code class="docutils literal notranslate"><span class="pre">composer</span> <span class="pre">require</span> <span class="pre">symfony/web-server-bundle</span></code> and use the <code class="docutils literal notranslate"><span class="pre">server:run</span></code>
command to browse to the new route and see if the bug appears or not.</li>
<li>If you can see the bug, you’re done and you can already share the code with us.</li>
<li>If you can’t see the bug, you must keep making small changes. For example, if
your original route was defined using XML, forget about the previous route
and define the route using XML instead. Or maybe your application
registers some event listeners and that’s where the real bug is. In that case,
add an event listener that’s similar to your real app to see if you can find
the bug.</li>
</ol>
<p>In short, the idea is to keep adding small and incremental changes to a new project
until you can reproduce the bug.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2004-2020 Fabien Potencier

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>