

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Upgrading a Minor Version (e.g. 4.0.0 to 4.1.0) &mdash; Symfony Framework Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/rtd_custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Upgrading a Patch Version (e.g. 5.0.0 to 5.0.1)" href="upgrade_patch.html" />
    <link rel="prev" title="Upgrading a Major Version (e.g. 4.4.0 to 5.0.0)" href="upgrade_major.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #f0f0f0" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/symfony-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                5.x}
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_tour/index.html">The Quick Tour</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../best_practices.html">The Symfony Framework Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bundles.html">The Bundle System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console.html">Console Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doctrine.html">Databases and the Doctrine ORM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">How to Deploy a Symfony Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../email.html">Swift Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../event_dispatcher.html">Events and Event Listeners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../forms.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frontend.html">Managing CSS and JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_cache.html">HTTP Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_client.html">HTTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lock.html">Dealing with Concurrency with Locks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mailer.html">Sending Emails with Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mercure.html">Pushing Data to Clients Using the Mercure Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../messenger.html">Messenger: Sync &amp; Queued Message Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">Migrating an Existing Application to Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notifier.html">Creating and Sending Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../profiler.html">Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rate_limiter.html">Rate Limiter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session.html">Sessions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../setup.html">Installing &amp; Setting up the Symfony Framework</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../setup.html#technical-requirements">Technical Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#creating-symfony-applications">Creating Symfony Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#setting-up-an-existing-symfony-project">Setting up an Existing Symfony Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#running-symfony-applications">Running Symfony Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#installing-packages">Installing Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#checking-security-vulnerabilities">Checking Security Vulnerabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#symfony-lts-versions">Symfony LTS Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#the-symfony-demo-application">The Symfony Demo application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#start-coding">Start Coding!</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../setup.html#learn-more">Learn More</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../page_creation.html">Create your First Page in Symfony</a></li>
<li class="toctree-l3"><a class="reference internal" href="homestead.html">Using Symfony with Homestead/Vagrant</a></li>
<li class="toctree-l3"><a class="reference internal" href="web_server_configuration.html">Configuring a Web Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="bundles.html">Upgrading a Third-Party Bundle for a Major Symfony Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="file_permissions.html">Setting up or Fixing File Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="flex.html">Upgrading Existing Applications to Symfony Flex</a></li>
<li class="toctree-l3"><a class="reference internal" href="symfony_server.html">Symfony Local Web Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="unstable_versions.html">How to Install or Upgrade to the Latest, Unreleased Symfony Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="upgrade_major.html">Upgrading a Major Version (e.g. 4.4.0 to 5.0.0)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Upgrading a Minor Version (e.g. 4.0.0 to 4.1.0)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#update-the-symfony-library-via-composer">1) Update the Symfony Library via Composer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updating-your-code-to-work-with-the-new-version">2) Updating your Code to Work with the new Version</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updating-recipes">3) Updating Recipes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="upgrade_patch.html">Upgrading a Patch Version (e.g. 5.0.0 to 5.0.1)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../serializer.html">How to Use the Serializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../service_container.html">Service Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../translation.html">Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../validation.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web_link.html">Asset Preloading and Resource Hints with HTTP/2 and WebLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html">Workflow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../components/index.html">The Components</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference Documents</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../create_framework/index.html">Create your own PHP Framework</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Symfony Framework Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../getting_started/index.html">Getting Started</a> &raquo;</li>
        
          <li><a href="../setup.html">Installing &amp; Setting up the Symfony Framework</a> &raquo;</li>
        
      <li>Upgrading a Minor Version (e.g. 4.0.0 to 4.1.0)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/setup/upgrade_minor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="upgrading-a-minor-version-e-g-4-0-0-to-4-1-0">
<span id="index-0"></span><h1>Upgrading a Minor Version (e.g. 4.0.0 to 4.1.0)<a class="headerlink" href="#upgrading-a-minor-version-e-g-4-0-0-to-4-1-0" title="Permalink to this headline">¶</a></h1>
<p>If you’re upgrading a minor version (where the middle number changes), then
you should <em>not</em> encounter significant backward compatibility changes. For
details, see the <a class="reference internal" href="../contributing/code/bc.html"><span class="doc">Symfony backward compatibility promise</span></a>.</p>
<p>However, some backwards-compatibility breaks <em>are</em> possible and you’ll learn in
a second how to prepare for them.</p>
<p>There are two steps to upgrading a minor version:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="#upgrade-minor-symfony-composer"><span class="std std-ref">Update the Symfony library via Composer</span></a>;</li>
<li><a class="reference internal" href="#upgrade-minor-symfony-code"><span class="std std-ref">Update your code to work with the new version</span></a>.</li>
</ol>
<div class="section" id="update-the-symfony-library-via-composer">
<span id="upgrade-minor-symfony-composer"></span><h2>1) Update the Symfony Library via Composer<a class="headerlink" href="#update-the-symfony-library-via-composer" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">composer.json</span></code> file is configured to allow Symfony packages to be
upgraded to patch versions. But to upgrade to a new minor version, you will
probably need to update the version constraint next to each library starting
<code class="docutils literal notranslate"><span class="pre">symfony/</span></code>. Suppose you are upgrading from Symfony 4.3 to 4.4:</p>
<div class="highlight-diff notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span>{
    &quot;...&quot;: &quot;...&quot;,

    &quot;require&quot;: {
<span class="gd">-         &quot;symfony/cache&quot;: &quot;4.3.*&quot;,</span>
<span class="gi">+         &quot;symfony/cache&quot;: &quot;4.4.*&quot;,</span>
<span class="gd">-         &quot;symfony/config&quot;: &quot;4.3.*&quot;,</span>
<span class="gi">+         &quot;symfony/config&quot;: &quot;4.4.*&quot;,</span>
<span class="gd">-         &quot;symfony/console&quot;: &quot;4.3.*&quot;,</span>
<span class="gi">+         &quot;symfony/console&quot;: &quot;4.4.*&quot;,</span>
        &quot;...&quot;: &quot;...&quot;,

        &quot;...&quot;: &quot;A few libraries starting with
                symfony/ follow their versioning scheme. You
                do not need to update these versions: you can
                upgrade them independently whenever you want&quot;,
        &quot;symfony/monolog-bundle&quot;: &quot;^3.5&quot;,
    },
    &quot;...&quot;: &quot;...&quot;,
}
</pre></div>
</td></tr></table></div>
<p>Your <code class="docutils literal notranslate"><span class="pre">composer.json</span></code> file should also have an <code class="docutils literal notranslate"><span class="pre">extra</span></code> block that you will
<em>also</em> need to update:</p>
<div class="highlight-diff notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>&quot;extra&quot;: {
    &quot;symfony&quot;: {
        &quot;...&quot;: &quot;...&quot;,
<span class="gd">-         &quot;require&quot;: &quot;4.3.*&quot;</span>
<span class="gi">+         &quot;require&quot;: &quot;4.4.*&quot;</span>
    }
}
</pre></div>
</td></tr></table></div>
<p>Next, use Composer to download new versions of the libraries:</p>
<div class="highlight-terminal notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">$</span> composer update <span class="s2">&quot;symfony/*&quot;</span>
</pre></div>
</td></tr></table></div>
<div class="section" id="dependency-errors">
<h3>Dependency Errors<a class="headerlink" href="#dependency-errors" title="Permalink to this headline">¶</a></h3>
<p>If you get a dependency error, it may mean that you also need to upgrade
other libraries that are dependencies of the Symfony libraries. To allow
that, pass the <code class="docutils literal notranslate"><span class="pre">--with-all-dependencies</span></code> flag:</p>
<div class="highlight-terminal notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">$</span> composer update <span class="s2">&quot;symfony/*&quot;</span> --with-all-dependencies
</pre></div>
</td></tr></table></div>
<p>This updates <code class="docutils literal notranslate"><span class="pre">symfony/*</span></code> and <em>all</em> packages that those packages depend on.
By using tight version constraints in <code class="docutils literal notranslate"><span class="pre">composer.json</span></code>, you can control what
versions each library upgrades to.</p>
<p>If this still doesn’t work, your <code class="docutils literal notranslate"><span class="pre">composer.json</span></code> file may specify a version
for a library that is not compatible with the newer Symfony version. In that
case, updating that library to a newer version in <code class="docutils literal notranslate"><span class="pre">composer.json</span></code> may solve
the issue.</p>
<p>Or, you may have deeper issues where different libraries depend on conflicting
versions of other libraries. Check your error message to debug.</p>
<p>Another issue that may happen is that the project dependencies can be installed
on your local computer but not on the remote server. This usually happens when
the PHP versions are different on each machine. The solution is to add the
<a class="reference external" href="https://getcomposer.org/doc/06-config.md#platform">platform</a> config option to your <cite>composer.json</cite> file to define the highest
PHP version allowed for the dependencies (set it to the server’s PHP version).</p>
</div>
<div class="section" id="upgrading-other-packages">
<h3>Upgrading other Packages<a class="headerlink" href="#upgrading-other-packages" title="Permalink to this headline">¶</a></h3>
<p>You may also want to upgrade the rest of your libraries. If you’ve done a
good job with your <a class="reference external" href="https://getcomposer.org/doc/articles/versions.md">version constraints</a> in <code class="docutils literal notranslate"><span class="pre">composer.json</span></code>, you can do
this safely by running:</p>
<div class="highlight-terminal notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">$</span> composer update
</pre></div>
</td></tr></table></div>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Beware, if you have some unspecific <a class="reference external" href="https://getcomposer.org/doc/articles/versions.md">version constraints</a> in your
<code class="docutils literal notranslate"><span class="pre">composer.json</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">dev-master</span></code>), this could upgrade some
non-Symfony libraries to new versions that contain backwards-compatibility
breaking changes.</p>
</div>
</div>
</div>
<div class="section" id="updating-your-code-to-work-with-the-new-version">
<span id="upgrade-minor-symfony-code"></span><h2>2) Updating your Code to Work with the new Version<a class="headerlink" href="#updating-your-code-to-work-with-the-new-version" title="Permalink to this headline">¶</a></h2>
<p>In theory, you should be done! However, you <em>may</em> need to make a few changes
to your code to get everything working. Additionally, some features you’re
using might still work, but might now be deprecated. While that’s fine,
if you know about these deprecations, you can start to fix them over time.</p>
<p>Every version of Symfony comes with an UPGRADE file (e.g. <a class="reference external" href="https://github.com/symfony/symfony/blob/4.4/UPGRADE-4.4.md">UPGRADE-4.4.md</a>)
included in the Symfony directory that describes these changes. If you follow
the instructions in the document and update your code accordingly, it should be
safe to update in the future.</p>
<p>These documents can also be found in the <a class="reference external" href="https://github.com/symfony/symfony">Symfony Repository</a>.</p>
</div>
<div class="section" id="updating-recipes">
<span id="updating-flex-recipes"></span><h2>3) Updating Recipes<a class="headerlink" href="#updating-recipes" title="Permalink to this headline">¶</a></h2>
<p>Over time - and especially when you upgrade to a new version of a library - an
updated version of the <a class="reference internal" href="../setup.html#recipes-description"><span class="std std-ref">recipe</span></a> may be available.
These updates are usually minor - e.g. new comments in a configuration file - but
it’s a good idea to keep your files in sync with the recipes.</p>
<p>Symfony Flex provides several commands to help upgrade your recipes. Be sure to
commit any unrelated changes you’re working on before starting:</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.6: </span>The recipes commands were introduced in Symfony Flex 1.6.</p>
</div>
<div class="highlight-terminal notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># see a list of all installed recipes and which have updates available</span>
<span class="gp">$</span> composer recipes

<span class="c1"># see detailed information about a specific recipes</span>
<span class="gp">$</span> composer recipes symfony/framework-bundle

<span class="c1"># update a specific recipes</span>
<span class="gp">$</span> composer recipes:install symfony/framework-bundle --force -v
</pre></div>
</td></tr></table></div>
<p>The tricky part of this process is that the recipe “update” does not perform
any intelligent “upgrading” of your code. Instead, <strong>the updates process re-installs
the latest version of the recipe</strong> which means that <strong>your custom code will be
overridden completely</strong>. After updating a recipe, you need to carefully choose
which changes you want, and undo the rest.</p>
<div class="screencast admonition">
<p class="first admonition-title">Screencast</p>
<p class="last">For a detailed example, see the <a class="reference external" href="https://symfonycasts.com/screencast/symfony5-upgrade">SymfonyCasts Symfony 5 Upgrade Tutorial</a>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2004-2020 Fabien Potencier

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>