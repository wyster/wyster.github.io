

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Built-in Symfony Service Tags &mdash; Symfony Framework Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/rtd_custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing" href="../contributing/index.html" />
    <link rel="prev" title="Twig Extensions Defined by Symfony" href="twig_reference.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #f0f0f0" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/symfony-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                5.x}
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_tour/index.html">The Quick Tour</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../best_practices.html">The Symfony Framework Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bundles.html">The Bundle System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console.html">Console Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doctrine.html">Databases and the Doctrine ORM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">How to Deploy a Symfony Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../email.html">Swift Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../event_dispatcher.html">Events and Event Listeners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../forms.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frontend.html">Managing CSS and JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_cache.html">HTTP Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_client.html">HTTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lock.html">Dealing with Concurrency with Locks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mailer.html">Sending Emails with Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mercure.html">Pushing Data to Clients Using the Mercure Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../messenger.html">Messenger: Sync &amp; Queued Message Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">Migrating an Existing Application to Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notifier.html">Creating and Sending Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../profiler.html">Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rate_limiter.html">Rate Limiter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Installing &amp; Setting up the Symfony Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serializer.html">How to Use the Serializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../service_container.html">Service Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../translation.html">Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../validation.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web_link.html">Asset Preloading and Resource Hints with HTTP/2 and WebLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html">Workflow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../components/index.html">The Components</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference Documents</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configuration/framework.html">Framework Configuration Reference (FrameworkBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/doctrine.html">Doctrine Configuration Reference (DoctrineBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/security.html">Security Configuration Reference (SecurityBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/swiftmailer.html">Mailer Configuration Reference (SwiftmailerBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/twig.html">Twig Configuration Reference (TwigBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/monolog.html">Logging Configuration Reference (MonologBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/web_profiler.html">Profiler Configuration Reference (WebProfilerBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/debug.html">Debug Configuration Reference (DebugBundle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/kernel.html">Configuring in the Kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="forms/types.html">Form Types Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="constraints.html">Validation Constraints Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig_reference.html">Twig Extensions Defined by Symfony</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Built-in Symfony Service Tags</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#auto-alias">auto_alias</a></li>
<li class="toctree-l3"><a class="reference internal" href="#console-command">console.command</a></li>
<li class="toctree-l3"><a class="reference internal" href="#container-hot-path">container.hot_path</a></li>
<li class="toctree-l3"><a class="reference internal" href="#container-no-preload">container.no_preload</a></li>
<li class="toctree-l3"><a class="reference internal" href="#container-preload">container.preload</a></li>
<li class="toctree-l3"><a class="reference internal" href="#controller-argument-value-resolver">controller.argument_value_resolver</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-collector">data_collector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#doctrine-event-listener">doctrine.event_listener</a></li>
<li class="toctree-l3"><a class="reference internal" href="#doctrine-event-subscriber">doctrine.event_subscriber</a></li>
<li class="toctree-l3"><a class="reference internal" href="#form-type">form.type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#form-type-extension">form.type_extension</a></li>
<li class="toctree-l3"><a class="reference internal" href="#form-type-guesser">form.type_guesser</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-cache-clearer">kernel.cache_clearer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-cache-warmer">kernel.cache_warmer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-event-listener">kernel.event_listener</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#core-event-listener-reference">Core Event Listener Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-event-subscriber">kernel.event_subscriber</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-fragment-renderer">kernel.fragment_renderer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-reset">kernel.reset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mime-mime-type-guesser">mime.mime_type_guesser</a></li>
<li class="toctree-l3"><a class="reference internal" href="#monolog-logger">monolog.logger</a></li>
<li class="toctree-l3"><a class="reference internal" href="#monolog-processor">monolog.processor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#routing-loader">routing.loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#routing-expression-language-provider">routing.expression_language_provider</a></li>
<li class="toctree-l3"><a class="reference internal" href="#security-expression-language-provider">security.expression_language_provider</a></li>
<li class="toctree-l3"><a class="reference internal" href="#security-remember-me-aware">security.remember_me_aware</a></li>
<li class="toctree-l3"><a class="reference internal" href="#security-voter">security.voter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#serializer-encoder">serializer.encoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#serializer-normalizer">serializer.normalizer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#swiftmailer-default-plugin">swiftmailer.default.plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#translation-loader">translation.loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#translation-extractor">translation.extractor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#translation-dumper">translation.dumper</a></li>
<li class="toctree-l3"><a class="reference internal" href="#twig-extension">twig.extension</a></li>
<li class="toctree-l3"><a class="reference internal" href="#twig-loader">twig.loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#twig-runtime">twig.runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#validator-constraint-validator">validator.constraint_validator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#validator-initializer">validator.initializer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="events.html">Built-in Symfony Events</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../create_framework/index.html">Create your own PHP Framework</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Symfony Framework Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Reference Documents</a> &raquo;</li>
        
      <li>Built-in Symfony Service Tags</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/reference/dic_tags.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="built-in-symfony-service-tags">
<h1>Built-in Symfony Service Tags<a class="headerlink" href="#built-in-symfony-service-tags" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="../service_container/tags.html"><span class="doc">Service tags</span></a> are the mechanism used by the
<a class="reference internal" href="../components/dependency_injection.html"><span class="doc">DependencyInjection component</span></a> to flag
services that require special processing, like console commands or Twig extensions.</p>
<p>These are the most common tags provided by Symfony components, but in your
application there could be more tags available provided by third-party bundles:</p>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Tag Name</th>
<th class="head">Usage</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#auto-alias">auto_alias</a></td>
<td>Define aliases based on the value of container parameters</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#console-command">console.command</a></td>
<td>Add a command</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#container-hot-path">container.hot_path</a></td>
<td>Add to list of always needed services</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#container-no-preload">container.no_preload</a></td>
<td>Remove a class from the list of classes preloaded by PHP</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#container-preload">container.preload</a></td>
<td>Add some class to the list of classes preloaded by PHP</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#controller-argument-value-resolver">controller.argument_value_resolver</a></td>
<td>Register a value resolver for controller arguments such as <code class="docutils literal notranslate"><span class="pre">Request</span></code></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#data-collector">data_collector</a></td>
<td>Create a class that collects custom data for the profiler</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#doctrine-event-listener">doctrine.event_listener</a></td>
<td>Add a Doctrine event listener</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#doctrine-event-subscriber">doctrine.event_subscriber</a></td>
<td>Add a Doctrine event subscriber</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#form-type">form.type</a></td>
<td>Create a custom form field type</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#form-type-extension">form.type_extension</a></td>
<td>Create a custom “form extension”</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#form-type-guesser">form.type_guesser</a></td>
<td>Add your own logic for “form type guessing”</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kernel-cache-clearer">kernel.cache_clearer</a></td>
<td>Register your service to be called during the cache clearing process</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kernel-cache-warmer">kernel.cache_warmer</a></td>
<td>Register your service to be called during the cache warming process</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kernel-event-listener">kernel.event_listener</a></td>
<td>Listen to different events/hooks in Symfony</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kernel-event-subscriber">kernel.event_subscriber</a></td>
<td>To subscribe to a set of different events/hooks in Symfony</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kernel-fragment-renderer">kernel.fragment_renderer</a></td>
<td>Add new HTTP content rendering strategies</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kernel-reset">kernel.reset</a></td>
<td>Allows to clean up services between requests</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mime-mime-type-guesser">mime.mime_type_guesser</a></td>
<td>Add your own logic for guessing MIME types</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#monolog-logger">monolog.logger</a></td>
<td>Logging with a custom logging channel</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#monolog-processor">monolog.processor</a></td>
<td>Add a custom processor for logging</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#routing-loader">routing.loader</a></td>
<td>Register a custom service that loads routes</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#routing-expression-language-provider">routing.expression_language_provider</a></td>
<td>Register a provider for expression language functions in routing</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#security-expression-language-provider">security.expression_language_provider</a></td>
<td>Register a provider for expression language functions in security</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#security-voter">security.voter</a></td>
<td>Add a custom voter to Symfony’s authorization logic</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#security-remember-me-aware">security.remember_me_aware</a></td>
<td>To allow remember me authentication</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#serializer-encoder">serializer.encoder</a></td>
<td>Register a new encoder in the <code class="docutils literal notranslate"><span class="pre">serializer</span></code> service</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#serializer-normalizer">serializer.normalizer</a></td>
<td>Register a new normalizer in the <code class="docutils literal notranslate"><span class="pre">serializer</span></code> service</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#swiftmailer-default-plugin">swiftmailer.default.plugin</a></td>
<td>Register a custom SwiftMailer Plugin</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#translation-loader">translation.loader</a></td>
<td>Register a custom service that loads translations</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#translation-extractor">translation.extractor</a></td>
<td>Register a custom service that extracts translation messages from a file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#translation-dumper">translation.dumper</a></td>
<td>Register a custom service that dumps translation messages</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#twig-extension">twig.extension</a></td>
<td>Register a custom Twig Extension</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#twig-loader">twig.loader</a></td>
<td>Register a custom service that loads Twig templates</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#twig-runtime">twig.runtime</a></td>
<td>Register a lazy-loaded Twig Extension</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#validator-constraint-validator">validator.constraint_validator</a></td>
<td>Create your own custom validation constraint</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#validator-initializer">validator.initializer</a></td>
<td>Register a service that initializes objects before validation</td>
</tr>
</tbody>
</table>
<div class="section" id="auto-alias">
<h2>auto_alias<a class="headerlink" href="#auto-alias" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Define aliases based on the value of container parameters</p>
<p>Consider the following configuration that defines three different but related
services:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">app.mysql_lock</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">class</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">App\Lock\MysqlLock</span>
    <span class="l l-Scalar l-Scalar-Plain">app.postgresql_lock</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">class</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">App\Lock\PostgresqlLock</span>
    <span class="l l-Scalar l-Scalar-Plain">app.sqlite_lock</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">class</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">App\Lock\SqliteLock</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;app.mysql_lock&quot;</span>
            <span class="na">class=</span><span class="s">&quot;App\Lock\MysqlLock&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;app.postgresql_lock&quot;</span>
            <span class="na">class=</span><span class="s">&quot;App\Lock\PostgresqlLock&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;app.sqlite_lock&quot;</span>
            <span class="na">class=</span><span class="s">&quot;App\Lock\SqliteLock&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/services.php</span>
<span class="k">namespace</span> <span class="nx">Symfony\Component\DependencyInjection\Loader\Configurator</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Lock\MysqlLock</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Lock\PostgresqlLock</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Lock\SqliteLock</span><span class="p">;</span>

<span class="k">return</span> <span class="k">function</span><span class="p">(</span><span class="nx">ContainerConfigurator</span> <span class="nv">$configurator</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$services</span> <span class="o">=</span> <span class="nv">$configurator</span><span class="o">-&gt;</span><span class="na">services</span><span class="p">();</span>

    <span class="nv">$services</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;app.mysql_lock&#39;</span><span class="p">,</span> <span class="nx">MysqlLock</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
    <span class="nv">$services</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;app.postgresql_lock&#39;</span><span class="p">,</span> <span class="nx">PostgresqlLock</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
    <span class="nv">$services</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;app.sqlite_lock&#39;</span><span class="p">,</span> <span class="nx">SqliteLock</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<p>Instead of dealing with these three services, your application needs a generic
<code class="docutils literal notranslate"><span class="pre">app.lock</span></code> service that will be an alias to one of these services, depending on
some configuration. Thanks to the <code class="docutils literal notranslate"><span class="pre">auto_alias</span></code> option, you can automatically create
that alias based on the value of a configuration parameter.</p>
<p>Considering that a configuration parameter called <code class="docutils literal notranslate"><span class="pre">database_type</span></code> exists. Then,
the generic <code class="docutils literal notranslate"><span class="pre">app.lock</span></code> service can be defined as follows:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">app.mysql_lock</span><span class="p p-Indicator">:</span>
        <span class="c1"># ...</span>
    <span class="l l-Scalar l-Scalar-Plain">app.postgresql_lock</span><span class="p p-Indicator">:</span>
        <span class="c1"># ...</span>
    <span class="l l-Scalar l-Scalar-Plain">app.sqlite_lock</span><span class="p p-Indicator">:</span>
        <span class="c1"># ...</span>
    <span class="l l-Scalar l-Scalar-Plain">app.lock</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="nv">auto_alias</span><span class="p p-Indicator">,</span> <span class="nv">format</span><span class="p p-Indicator">:</span> <span class="s">&quot;app.%database_type%_lock&quot;</span> <span class="p p-Indicator">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;app.mysql_lock&quot;</span>
            <span class="na">class=</span><span class="s">&quot;App\Lock\MysqlLock&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;app.postgresql_lock&quot;</span>
            <span class="na">class=</span><span class="s">&quot;App\Lock\PostgresqlLock&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;app.sqlite_lock&quot;</span>
            <span class="na">class=</span><span class="s">&quot;App\Lock\SqliteLock&quot;</span><span class="nt">/&gt;</span>

        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;app.lock&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;auto_alias&quot;</span> <span class="na">format=</span><span class="s">&quot;app.%database_type%_lock&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/services.php</span>
<span class="k">namespace</span> <span class="nx">Symfony\Component\DependencyInjection\Loader\Configurator</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Lock\MysqlLock</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Lock\PostgresqlLock</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Lock\SqliteLock</span><span class="p">;</span>

<span class="k">return</span> <span class="k">function</span><span class="p">(</span><span class="nx">ContainerConfigurator</span> <span class="nv">$configurator</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$services</span> <span class="o">=</span> <span class="nv">$configurator</span><span class="o">-&gt;</span><span class="na">services</span><span class="p">();</span>

    <span class="nv">$services</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;app.mysql_lock&#39;</span><span class="p">,</span> <span class="nx">MysqlLock</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
    <span class="nv">$services</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;app.postgresql_lock&#39;</span><span class="p">,</span> <span class="nx">PostgresqlLock</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
    <span class="nv">$services</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;app.sqlite_lock&#39;</span><span class="p">,</span> <span class="nx">SqliteLock</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>

    <span class="nv">$services</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;app.lock&#39;</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">tag</span><span class="p">(</span><span class="s1">&#39;auto_alias&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;app.%database_type%_lock&#39;</span><span class="p">])</span>
    <span class="p">;</span>
<span class="p">};</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">format</span></code> option defines the expression used to construct the name of the service
to alias. This expression can use any container parameter (as usual,
wrapping their names with <code class="docutils literal notranslate"><span class="pre">%</span></code> characters).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using the <code class="docutils literal notranslate"><span class="pre">auto_alias</span></code> tag, it’s not mandatory to define the aliased
services as private. However, doing that (like in the above example) makes
sense most of the times to prevent accessing those services directly instead
of using the generic service alias.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.1: </span>In Symfony versions prior to 5.1, you needed to manually add the
<code class="docutils literal notranslate"><span class="pre">Symfony\Component\DependencyInjection\Compiler\AutoAliasServicePass</span></code>
compiler pass to the container for this feature to work. This compiler pass
is now added automatically.</p>
</div>
</div>
<div class="section" id="console-command">
<h2>console.command<a class="headerlink" href="#console-command" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Add a command to the application</p>
<p>For details on registering your own commands in the service container, read
<a class="reference internal" href="../console/commands_as_services.html"><span class="doc">How to Define Commands as Services</span></a>.</p>
</div>
<div class="section" id="container-hot-path">
<h2>container.hot_path<a class="headerlink" href="#container-hot-path" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Add to list of always needed services</p>
<p>This tag identifies the services that are always needed. It is only applied to
a very short list of bootstrapping services (like <code class="docutils literal notranslate"><span class="pre">router</span></code>, <code class="docutils literal notranslate"><span class="pre">event_dispatcher</span></code>,
<code class="docutils literal notranslate"><span class="pre">http_kernel</span></code>, <code class="docutils literal notranslate"><span class="pre">request_stack</span></code>, etc.). Then, it is propagated to all dependencies
of these services, with a special case for event listeners, where only listed events
are propagated to their related listeners.</p>
<p>It will replace, in cache for generated service factories, the PHP autoload by
plain inlined <code class="docutils literal notranslate"><span class="pre">include_once</span></code>. The benefit is a complete bypass of the autoloader
for services and their class hierarchy. The result is as significant performance improvement.</p>
<p>Use this tag with great caution, you have to be sure that the tagged service is always used.</p>
</div>
<div class="section" id="container-no-preload">
<span id="dic-tags-container-nopreload"></span><h2>container.no_preload<a class="headerlink" href="#container-no-preload" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Remove a class from the list of classes preloaded by PHP</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.1: </span>The <code class="docutils literal notranslate"><span class="pre">container.no_preload</span></code> tag was introduced in Symfony 5.1.</p>
</div>
<p>Add this tag to a service and its class won’t be preloaded when using
<a class="reference external" href="https://www.php.net/manual/en/opcache.configuration.php#ini.opcache.preload">PHP class preloading</a>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\SomeNamespace\SomeService</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;container.no_preload&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\SomeNamespace\SomeService&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;container.no_preload&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\SomeNamespace\SomeService</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">SomeService</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;container.no_preload&#39;</span><span class="p">)</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<p>If you add some service tagged with <code class="docutils literal notranslate"><span class="pre">container.no_preload</span></code> as an argument of
another service, the <code class="docutils literal notranslate"><span class="pre">container.no_preload</span></code> tag is applied automatically to
that service too.</p>
</div>
<div class="section" id="container-preload">
<span id="dic-tags-container-preload"></span><h2>container.preload<a class="headerlink" href="#container-preload" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Add some class to the list of classes preloaded by PHP</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.1: </span>The <code class="docutils literal notranslate"><span class="pre">container.preload</span></code> tag was introduced in Symfony 5.1.</p>
</div>
<p>When using <a class="reference external" href="https://www.php.net/manual/en/opcache.configuration.php#ini.opcache.preload">PHP class preloading</a>, this tag allows you to define which PHP
classes should be preloaded. This can improve performance by making some of the
classes used by your service always available for all requests (until the server
is restarted):</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\SomeNamespace\SomeService</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;container.preload&#39;</span><span class="p p-Indicator">,</span> <span class="nv">class</span><span class="p p-Indicator">:</span> <span class="s">&#39;App\SomeClass&#39;</span> <span class="p p-Indicator">}</span>
            <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;container.preload&#39;</span><span class="p p-Indicator">,</span> <span class="nv">class</span><span class="p p-Indicator">:</span> <span class="s">&#39;App\Some\OtherClass&#39;</span> <span class="p p-Indicator">}</span>
            <span class="c1"># ...</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\SomeNamespace\SomeService&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;container.preload&quot;</span> <span class="na">class=</span><span class="s">&quot;App\SomeClass&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;container.preload&quot;</span> <span class="na">class=</span><span class="s">&quot;App\Some\OtherClass&quot;</span><span class="nt">/&gt;</span>
            <span class="c">&lt;!-- ... --&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Some\OtherClass</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\SomeClass</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\SomeNamespace\SomeService</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">SomeService</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;container.preload&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="nx">SomeClass</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;container.preload&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="nx">OtherClass</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="c1">// ...</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
</div>
<div class="section" id="controller-argument-value-resolver">
<h2>controller.argument_value_resolver<a class="headerlink" href="#controller-argument-value-resolver" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Register a value resolver for controller arguments such as <code class="docutils literal notranslate"><span class="pre">Request</span></code></p>
<p>Value resolvers implement the
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpKernel/Controller/ArgumentValueResolverInterface.php" title="Symfony\Component\HttpKernel\Controller\ArgumentValueResolverInterface"><span class="pre">ArgumentValueResolverInterface</span></a></code>
and are used to resolve argument values for controllers as described here:
<a class="reference internal" href="../controller/argument_value_resolver.html"><span class="doc">Extending Action Argument Resolving</span></a>.</p>
</div>
<div class="section" id="data-collector">
<h2>data_collector<a class="headerlink" href="#data-collector" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Create a class that collects custom data for the profiler</p>
<p>For details on creating your own custom data collection, read the
<a class="reference internal" href="../profiler/data_collector.html"><span class="doc">How to Create a custom Data Collector</span></a> article.</p>
</div>
<div class="section" id="doctrine-event-listener">
<h2>doctrine.event_listener<a class="headerlink" href="#doctrine-event-listener" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Add a Doctrine event listener</p>
<p>For details on creating Doctrine event listeners, read the
<a class="reference internal" href="../doctrine/events.html"><span class="doc">Doctrine events</span></a> article.</p>
</div>
<div class="section" id="doctrine-event-subscriber">
<h2>doctrine.event_subscriber<a class="headerlink" href="#doctrine-event-subscriber" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Add a Doctrine event subscriber</p>
<p>For details on creating Doctrine event subscribers, read the
<a class="reference internal" href="../doctrine/events.html"><span class="doc">Doctrine events</span></a> article.</p>
</div>
<div class="section" id="form-type">
<span id="dic-tags-form-type"></span><h2>form.type<a class="headerlink" href="#form-type" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Create a custom form field type</p>
<p>For details on creating your own custom form type, read the
<a class="reference internal" href="../form/create_custom_field_type.html"><span class="doc">How to Create a Custom Form Field Type</span></a> article.</p>
</div>
<div class="section" id="form-type-extension">
<h2>form.type_extension<a class="headerlink" href="#form-type-extension" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Create a custom “form extension”</p>
<p>For details on creating Form type extensions, read the
<a class="reference internal" href="../form/create_form_type_extension.html"><span class="doc">How to Create a Form Type Extension</span></a> article.</p>
</div>
<div class="section" id="form-type-guesser">
<span id="reference-dic-type-guesser"></span><h2>form.type_guesser<a class="headerlink" href="#form-type-guesser" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Add your own logic for “form type guessing”</p>
<p>This tag allows you to add your own logic to the <a class="reference internal" href="../forms.html#form-type-guessing"><span class="std std-ref">form guessing</span></a>
process. By default, form guessing is done by “guessers” based on the validation
metadata and Doctrine metadata (if you’re using Doctrine) or Propel metadata
(if you’re using Propel).</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">For information on how to create your own type guesser, see
<a class="reference internal" href="../form/type_guesser.html"><span class="doc">Creating a custom Type Guesser</span></a>.</p>
</div>
</div>
<div class="section" id="kernel-cache-clearer">
<h2>kernel.cache_clearer<a class="headerlink" href="#kernel-cache-clearer" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Register your service to be called during the cache clearing
process</p>
<p>Cache clearing occurs whenever you call <code class="docutils literal notranslate"><span class="pre">cache:clear</span></code> command. If your
bundle caches files, you should add custom cache clearer for clearing those
files during the cache clearing process.</p>
<p>In order to register your custom cache clearer, first you must create a
service class:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="c1">// src/Cache/MyClearer.php</span>
<span class="k">namespace</span> <span class="nx">App\Cache</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\HttpKernel\CacheClearer\CacheClearerInterface</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyClearer</span> <span class="k">implements</span> <span class="nx">CacheClearerInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">clear</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$cacheDirectory</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// clear your cache</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you’re using the <a class="reference internal" href="../service_container.html#service-container-services-load-example"><span class="std std-ref">default services.yaml configuration</span></a>,
your service will be automatically tagged with <code class="docutils literal notranslate"><span class="pre">kernel.cache_clearer</span></code>. But, you
can also register it manually:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Cache\MyClearer</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">kernel.cache_clearer</span><span class="p p-Indicator">]</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Cache\MyClearer&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;kernel.cache_clearer&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Cache\MyClearer</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">MyClearer</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;kernel.cache_clearer&#39;</span><span class="p">)</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
</div>
<div class="section" id="kernel-cache-warmer">
<h2>kernel.cache_warmer<a class="headerlink" href="#kernel-cache-warmer" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Register your service to be called during the cache warming
process</p>
<p>Cache warming occurs whenever you run the <code class="docutils literal notranslate"><span class="pre">cache:warmup</span></code> or <code class="docutils literal notranslate"><span class="pre">cache:clear</span></code>
command (unless you pass <code class="docutils literal notranslate"><span class="pre">--no-warmup</span></code> to <code class="docutils literal notranslate"><span class="pre">cache:clear</span></code>). It is also run
when handling the request, if it wasn’t done by one of the commands yet.</p>
<p>The purpose is to initialize any cache that will be needed by the application
and prevent the first user from any significant “cache hit” where the cache
is generated dynamically.</p>
<p>To register your own cache warmer, first create a service that implements
the <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpKernel/CacheWarmer/CacheWarmerInterface.php" title="Symfony\Component\HttpKernel\CacheWarmer\CacheWarmerInterface"><span class="pre">CacheWarmerInterface</span></a></code> interface:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="c1">// src/Cache/MyCustomWarmer.php</span>
<span class="k">namespace</span> <span class="nx">App\Cache</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Foo\Bar</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\HttpKernel\CacheWarmer\CacheWarmerInterface</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyCustomWarmer</span> <span class="k">implements</span> <span class="nx">CacheWarmerInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">warmUp</span><span class="p">(</span><span class="nv">$cacheDirectory</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ... do some sort of operations to &quot;warm&quot; your cache</span>

        <span class="nv">$filesAndClassesToPreload</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="nv">$filesAndClassesToPreload</span><span class="p">[]</span> <span class="o">=</span> <span class="nx">Bar</span><span class="o">::</span><span class="na">class</span><span class="p">;</span>

        <span class="k">foreach</span> <span class="p">(</span><span class="nb">scandir</span><span class="p">(</span><span class="nv">$someCacheDir</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$file</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">is_dir</span><span class="p">(</span><span class="nv">$file</span> <span class="o">=</span> <span class="nv">$someCacheDir</span><span class="o">.</span><span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="nv">$file</span><span class="p">))</span> <span class="p">{</span>
                <span class="nv">$filesAndClassesToPreload</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$file</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$filesAndClassesToPreload</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">isOptional</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">warmUp()</span></code> method must return an array with the files and classes to
preload. Files must be absolute paths and classes must be fully-qualified class
names. The only restriction is that files must be stored in the cache directory.
If you don’t need to preload anything, return an empty array</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 5.1: </span>Not returning an array from the <code class="docutils literal notranslate"><span class="pre">warmUp()</span></code> method with the files to
preload is deprecated since Symfony 5.1.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">isOptional()</span></code> method should return true if it’s possible to use the
application without calling this cache warmer. In Symfony, optional warmers
are always executed by default (you can change this by using the
<code class="docutils literal notranslate"><span class="pre">--no-optional-warmers</span></code> option when executing the command).</p>
<p>If you’re using the <a class="reference internal" href="../service_container.html#service-container-services-load-example"><span class="std std-ref">default services.yaml configuration</span></a>,
your service will be automatically tagged with <code class="docutils literal notranslate"><span class="pre">kernel.cache_warmer</span></code>. But, you
can also register it manually:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Cache\MyCustomWarmer</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="nv">kernel.cache_warmer</span><span class="p p-Indicator">,</span> <span class="nv">priority</span><span class="p p-Indicator">:</span> <span class="nv">0</span> <span class="p p-Indicator">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Cache\MyCustomWarmer&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;kernel.cache_warmer&quot;</span> <span class="na">priority=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Cache\MyCustomWarmer</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">MyCustomWarmer</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;kernel.cache_warmer&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;priority&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">])</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">priority</span></code> is optional and its value is a positive or negative integer
that defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>. The higher the number, the earlier that warmers are
executed.</p>
</div>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">If your cache warmer fails its execution because of any exception, Symfony
won’t try to execute it again for the next requests. Therefore, your
application and/or bundles should be prepared for when the contents
generated by the cache warmer are not available.</p>
</div>
<p id="core-cache-warmers">In addition to your own cache warmers, Symfony components and third-party
bundles define cache warmers too for their own purposes. You can list them all
with the following command:</p>
<div class="highlight-terminal notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">$</span> php bin/console debug:container --tag<span class="o">=</span>kernel.cache_warmer
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="kernel-event-listener">
<span id="dic-tags-kernel-event-listener"></span><h2>kernel.event_listener<a class="headerlink" href="#kernel-event-listener" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: To listen to different events/hooks in Symfony</p>
<p>During the execution of a Symfony application, different events are triggered
and you can also dispatch custom events. This tag allows you to <em>hook</em> your own
classes into any of those events.</p>
<p>For a full example of this listener, read the <a class="reference internal" href="../event_dispatcher.html"><span class="doc">Events and Event Listeners</span></a>
article.</p>
<div class="section" id="core-event-listener-reference">
<h3>Core Event Listener Reference<a class="headerlink" href="#core-event-listener-reference" title="Permalink to this headline">¶</a></h3>
<p>For the reference of Event Listeners associated with each kernel event,
see the <a class="reference internal" href="events.html"><span class="doc">Symfony Events Reference</span></a>.</p>
</div>
</div>
<div class="section" id="kernel-event-subscriber">
<span id="dic-tags-kernel-event-subscriber"></span><h2>kernel.event_subscriber<a class="headerlink" href="#kernel-event-subscriber" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: To subscribe to a set of different events/hooks in Symfony</p>
<p>This is an alternative way to create an event listener, and is the recommended
way (instead of using <code class="docutils literal notranslate"><span class="pre">kernel.event_listener</span></code>). See <a class="reference internal" href="../event_dispatcher.html#events-subscriber"><span class="std std-ref">Creating an Event Subscriber</span></a>.</p>
</div>
<div class="section" id="kernel-fragment-renderer">
<h2>kernel.fragment_renderer<a class="headerlink" href="#kernel-fragment-renderer" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Add a new HTTP content rendering strategy</p>
<p>To add a new rendering strategy - in addition to the core strategies like
<code class="docutils literal notranslate"><span class="pre">EsiFragmentRenderer</span></code> - create a class that implements
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpKernel/Fragment/FragmentRendererInterface.php" title="Symfony\Component\HttpKernel\Fragment\FragmentRendererInterface"><span class="pre">FragmentRendererInterface</span></a></code>,
register it as a service, then tag it with <code class="docutils literal notranslate"><span class="pre">kernel.fragment_renderer</span></code>.</p>
</div>
<div class="section" id="kernel-reset">
<h2>kernel.reset<a class="headerlink" href="#kernel-reset" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Clean up services between requests</p>
<p>During the <code class="docutils literal notranslate"><span class="pre">kernel.terminate</span></code> event, Symfony looks for any service tagged
with the <code class="docutils literal notranslate"><span class="pre">kernel.reset</span></code> tag to reinitialize their state. This is done by
calling to the method whose name is configured in the <code class="docutils literal notranslate"><span class="pre">method</span></code> argument of
the tag.</p>
<p>This is mostly useful when running your projects in application servers that
reuse the Symfony application between requests to improve performance. This tag
is applied for example to the built-in <a class="reference internal" href="../profiler/data_collector.html"><span class="doc">data collectors</span></a>
of the profiler to delete all their information.</p>
</div>
<div class="section" id="mime-mime-type-guesser">
<span id="dic-tags-mime"></span><h2>mime.mime_type_guesser<a class="headerlink" href="#mime-mime-type-guesser" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Add your own logic for guessing MIME types</p>
<p>This tag is used to register your own <a class="reference internal" href="../components/mime.html#components-mime-type-guess"><span class="std std-ref">MIME type guessers</span></a>
in case the guessers provided by the <a class="reference internal" href="../components/mime.html"><span class="doc">Mime component</span></a>
don’t fit your needs.</p>
</div>
<div class="section" id="monolog-logger">
<span id="dic-tags-monolog"></span><h2>monolog.logger<a class="headerlink" href="#monolog-logger" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: To use a custom logging channel with Monolog</p>
<p>Monolog allows you to share its handlers between several logging channels.
The logger service uses the channel <code class="docutils literal notranslate"><span class="pre">app</span></code> but you can change the
channel when injecting the logger in a service.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Log\CustomLogger</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">arguments</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;@logger&#39;</span><span class="p p-Indicator">]</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="nv">monolog.logger</span><span class="p p-Indicator">,</span> <span class="nv">channel</span><span class="p p-Indicator">:</span> <span class="nv">app</span> <span class="p p-Indicator">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Log\CustomLogger&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;argument</span> <span class="na">type=</span><span class="s">&quot;service&quot;</span> <span class="na">id=</span><span class="s">&quot;logger&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;monolog.logger&quot;</span> <span class="na">channel=</span><span class="s">&quot;app&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Log\CustomLogger</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\DependencyInjection\Reference</span><span class="p">;</span>

<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">CustomLogger</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addArgument</span><span class="p">(</span><span class="k">new</span> <span class="nx">Reference</span><span class="p">(</span><span class="s1">&#39;logger&#39;</span><span class="p">))</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;monolog.logger&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;channel&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;app&#39;</span><span class="p">]);</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You can create <a class="reference internal" href="../logging/channels_handlers.html"><span class="doc">custom channels</span></a> and
even <a class="reference internal" href="../logging/channels_handlers.html#monolog-autowire-channels"><span class="std std-ref">autowire logging channels</span></a>.</p>
</div>
</div>
<div class="section" id="monolog-processor">
<span id="dic-tags-monolog-processor"></span><h2>monolog.processor<a class="headerlink" href="#monolog-processor" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Add a custom processor for logging</p>
<p>Monolog allows you to add processors in the logger or in the handlers to
add extra data in the records. A processor receives the record as an argument
and must return it after adding some extra data in the <code class="docutils literal notranslate"><span class="pre">extra</span></code> attribute
of the record.</p>
<p>The built-in <code class="docutils literal notranslate"><span class="pre">IntrospectionProcessor</span></code> can be used to add the file, the
line, the class and the method where the logger was triggered.</p>
<p>You can add a processor globally:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">Monolog\Processor\IntrospectionProcessor</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">monolog.processor</span><span class="p p-Indicator">]</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;Monolog\Processor\IntrospectionProcessor&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;monolog.processor&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Monolog\Processor\IntrospectionProcessor</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">IntrospectionProcessor</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;monolog.processor&#39;</span><span class="p">)</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If your service is not a callable (using <code class="docutils literal notranslate"><span class="pre">__invoke()</span></code>) you can add the
<code class="docutils literal notranslate"><span class="pre">method</span></code> attribute in the tag to use a specific method.</p>
</div>
<p>You can add also a processor for a specific handler by using the <code class="docutils literal notranslate"><span class="pre">handler</span></code>
attribute:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">Monolog\Processor\IntrospectionProcessor</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="nv">monolog.processor</span><span class="p p-Indicator">,</span> <span class="nv">handler</span><span class="p p-Indicator">:</span> <span class="nv">firephp</span> <span class="p p-Indicator">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;Monolog\Processor\IntrospectionProcessor&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;monolog.processor&quot;</span> <span class="na">handler=</span><span class="s">&quot;firephp&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Monolog\Processor\IntrospectionProcessor</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">IntrospectionProcessor</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;monolog.processor&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;handler&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;firephp&#39;</span><span class="p">])</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<p>You can also add a processor for a specific logging channel by using the
<code class="docutils literal notranslate"><span class="pre">channel</span></code> attribute. This will register the processor only for the
<code class="docutils literal notranslate"><span class="pre">security</span></code> logging channel used in the Security component:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">Monolog\Processor\IntrospectionProcessor</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="nv">monolog.processor</span><span class="p p-Indicator">,</span> <span class="nv">channel</span><span class="p p-Indicator">:</span> <span class="nv">security</span> <span class="p p-Indicator">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;Monolog\Processor\IntrospectionProcessor&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;monolog.processor&quot;</span> <span class="na">channel=</span><span class="s">&quot;security&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Monolog\Processor\IntrospectionProcessor</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">IntrospectionProcessor</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;monolog.processor&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;channel&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;security&#39;</span><span class="p">])</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You cannot use both the <code class="docutils literal notranslate"><span class="pre">handler</span></code> and <code class="docutils literal notranslate"><span class="pre">channel</span></code> attributes for the
same tag as handlers are shared between all channels.</p>
</div>
</div>
<div class="section" id="routing-loader">
<h2>routing.loader<a class="headerlink" href="#routing-loader" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Register a custom service that loads routes</p>
<p>To enable a custom routing loader, add it as a regular service in one
of your configuration and tag it with <code class="docutils literal notranslate"><span class="pre">routing.loader</span></code>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Routing\CustomLoader</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">routing.loader</span><span class="p p-Indicator">]</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Routing\CustomLoader&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;routing.loader&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Routing\CustomLoader</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">CustomLoader</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;routing.loader&#39;</span><span class="p">)</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<p>For more information, see <a class="reference internal" href="../routing/custom_route_loader.html"><span class="doc">How to Create a custom Route Loader</span></a>.</p>
</div>
<div class="section" id="routing-expression-language-provider">
<h2>routing.expression_language_provider<a class="headerlink" href="#routing-expression-language-provider" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Register a provider for expression language functions in routing</p>
<p>This tag is used to automatically register
<a class="reference internal" href="../components/expression_language/extending.html#components-expression-language-provider"><span class="std std-ref">expression function providers</span></a>
for the routing expression component. Using these providers, you can add custom
functions to the routing expression language.</p>
</div>
<div class="section" id="security-expression-language-provider">
<h2>security.expression_language_provider<a class="headerlink" href="#security-expression-language-provider" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Register a provider for expression language functions in security</p>
<p>This tag is used to automatically register <a class="reference internal" href="../components/expression_language/extending.html#components-expression-language-provider"><span class="std std-ref">expression function providers</span></a> for the security expression
component. Using these providers, you can add custom functions to the security
expression language.</p>
</div>
<div class="section" id="security-remember-me-aware">
<h2>security.remember_me_aware<a class="headerlink" href="#security-remember-me-aware" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: To allow remember me authentication</p>
<p>This tag is used internally to allow remember-me authentication to work.
If you have a custom authentication method where a user can be remember-me
authenticated, then you may need to use this tag.</p>
<p>If your custom authentication factory extends
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bundle/SecurityBundle/DependencyInjection/Security/Factory/AbstractFactory.php" title="Symfony\Bundle\SecurityBundle\DependencyInjection\Security\Factory\AbstractFactory"><span class="pre">AbstractFactory</span></a></code>
and your custom authentication listener extends
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Security/Http/Firewall/AbstractAuthenticationListener.php" title="Symfony\Component\Security\Http\Firewall\AbstractAuthenticationListener"><span class="pre">AbstractAuthenticationListener</span></a></code>,
then your custom authentication listener will automatically have this tag
applied and it will function automatically.</p>
</div>
<div class="section" id="security-voter">
<h2>security.voter<a class="headerlink" href="#security-voter" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: To add a custom voter to Symfony’s authorization logic</p>
<p>When you call <code class="docutils literal notranslate"><span class="pre">isGranted()</span></code> on Symfony’s authorization checker, a system of “voters”
is used behind the scenes to determine if the user should have access. The
<code class="docutils literal notranslate"><span class="pre">security.voter</span></code> tag allows you to add your own custom voter to that system.</p>
<p>For more information, read the <a class="reference internal" href="../security/voters.html"><span class="doc">How to Use Voters to Check User Permissions</span></a> article.</p>
</div>
<div class="section" id="serializer-encoder">
<span id="reference-dic-tags-serializer-encoder"></span><h2>serializer.encoder<a class="headerlink" href="#serializer-encoder" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Register a new encoder in the <code class="docutils literal notranslate"><span class="pre">serializer</span></code> service</p>
<p>The class that’s tagged should implement the <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Serializer/Encoder/EncoderInterface.php" title="Symfony\Component\Serializer\Encoder\EncoderInterface"><span class="pre">EncoderInterface</span></a></code>
and <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Serializer/Encoder/DecoderInterface.php" title="Symfony\Component\Serializer\Encoder\DecoderInterface"><span class="pre">DecoderInterface</span></a></code>.</p>
<p>For more details, see <a class="reference internal" href="../serializer.html"><span class="doc">How to Use the Serializer</span></a>.</p>
</div>
<div class="section" id="serializer-normalizer">
<span id="reference-dic-tags-serializer-normalizer"></span><h2>serializer.normalizer<a class="headerlink" href="#serializer-normalizer" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Register a new normalizer in the Serializer service</p>
<p>The class that’s tagged should implement the <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Serializer/Normalizer/NormalizerInterface.php" title="Symfony\Component\Serializer\Normalizer\NormalizerInterface"><span class="pre">NormalizerInterface</span></a></code>
and <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Serializer/Normalizer/DenormalizerInterface.php" title="Symfony\Component\Serializer\Normalizer\DenormalizerInterface"><span class="pre">DenormalizerInterface</span></a></code>.</p>
<p>For more details, see <a class="reference internal" href="../serializer.html"><span class="doc">How to Use the Serializer</span></a>.</p>
<p>The priorities of the default normalizers can be found in the
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bundle/FrameworkBundle/DependencyInjection/FrameworkExtension.php" title="Symfony\Bundle\FrameworkBundle\DependencyInjection\FrameworkExtension::registerSerializerConfiguration()"><span class="pre">registerSerializerConfiguration()</span></a></code>
method.</p>
</div>
<div class="section" id="swiftmailer-default-plugin">
<h2>swiftmailer.default.plugin<a class="headerlink" href="#swiftmailer-default-plugin" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Register a custom SwiftMailer Plugin</p>
<p>If you’re using a custom SwiftMailer plugin (or want to create one), you
can register it with SwiftMailer by creating a service for your plugin and
tagging it with <code class="docutils literal notranslate"><span class="pre">swiftmailer.default.plugin</span></code> (it has no options).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">default</span></code> in this tag is the name of the mailer. If you have multiple
mailers configured or have changed the default mailer name for some
reason, you should change it to the name of your mailer in order to
use this tag.</p>
</div>
<p>A SwiftMailer plugin must implement the <code class="docutils literal notranslate"><span class="pre">Swift_Events_EventListener</span></code> interface.
For more information on plugins, see <a class="reference external" href="https://swiftmailer.symfony.com/docs/plugins.html">SwiftMailer’s Plugin Documentation</a>.</p>
<p>Several SwiftMailer plugins are core to Symfony and can be activated via
different configuration. For details, see <a class="reference internal" href="configuration/swiftmailer.html"><span class="doc">Mailer Configuration Reference (SwiftmailerBundle)</span></a>.</p>
</div>
<div class="section" id="translation-loader">
<span id="dic-tags-translation-loader"></span><h2>translation.loader<a class="headerlink" href="#translation-loader" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: To register a custom service that loads translations</p>
<p>By default, translations are loaded from the filesystem in a variety of
different formats (YAML, XLIFF, PHP, etc).</p>
<p>Now, register your loader as a service and tag it with <code class="docutils literal notranslate"><span class="pre">translation.loader</span></code>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Translation\MyCustomLoader</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="nv">translation.loader</span><span class="p p-Indicator">,</span> <span class="nv">alias</span><span class="p p-Indicator">:</span> <span class="nv">bin</span> <span class="p p-Indicator">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Translation\MyCustomLoader&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;translation.loader&quot;</span> <span class="na">alias=</span><span class="s">&quot;bin&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Translation\MyCustomLoader</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">MyCustomLoader</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;translation.loader&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;alias&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;bin&#39;</span><span class="p">])</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">alias</span></code> option is required and very important: it defines the file
“suffix” that will be used for the resource files that use this loader.
For example, suppose you have some custom <code class="docutils literal notranslate"><span class="pre">bin</span></code> format that you need to
load. If you have a <code class="docutils literal notranslate"><span class="pre">bin</span></code> file that contains French translations for
the <code class="docutils literal notranslate"><span class="pre">messages</span></code> domain, then you might have a file <code class="docutils literal notranslate"><span class="pre">translations/messages.fr.bin</span></code>.</p>
<p>When Symfony tries to load the <code class="docutils literal notranslate"><span class="pre">bin</span></code> file, it passes the path to your
custom loader as the <code class="docutils literal notranslate"><span class="pre">$resource</span></code> argument. You can then perform any logic
you need on that file in order to load your translations.</p>
<p>If you’re loading translations from a database, you’ll still need a resource
file, but it might either be blank or contain a little bit of information
about loading those resources from the database. The file is key to trigger
the <code class="docutils literal notranslate"><span class="pre">load()</span></code> method on your custom loader.</p>
</div>
<div class="section" id="translation-extractor">
<span id="reference-dic-tags-translation-extractor"></span><h2>translation.extractor<a class="headerlink" href="#translation-extractor" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: To register a custom service that extracts messages from a
file</p>
<p>When executing the <code class="docutils literal notranslate"><span class="pre">translation:update</span></code> command, it uses extractors to
extract translation messages from a file. By default, the Symfony Framework
has a <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bridge/Twig/Translation/TwigExtractor.php" title="Symfony\Bridge\Twig\Translation\TwigExtractor"><span class="pre">TwigExtractor</span></a></code> and a
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Extractor/PhpExtractor.php" title="Symfony\Component\Translation\Extractor\PhpExtractor"><span class="pre">PhpExtractor</span></a></code>, which
help to find and extract translation keys from Twig templates and PHP files.</p>
<p>You can create your own extractor by creating a class that implements
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Extractor/ExtractorInterface.php" title="Symfony\Component\Translation\Extractor\ExtractorInterface"><span class="pre">ExtractorInterface</span></a></code>
and tagging the service with <code class="docutils literal notranslate"><span class="pre">translation.extractor</span></code>. The tag has one
required option: <code class="docutils literal notranslate"><span class="pre">alias</span></code>, which defines the name of the extractor:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="c1">// src/Acme/DemoBundle/Translation/FooExtractor.php</span>
<span class="k">namespace</span> <span class="nx">Acme\DemoBundle\Translation</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\Translation\Extractor\ExtractorInterface</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Translation\MessageCatalogue</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">FooExtractor</span> <span class="k">implements</span> <span class="nx">ExtractorInterface</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$prefix</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * Extracts translation messages from a template directory to the catalog.</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">extract</span><span class="p">(</span><span class="nv">$directory</span><span class="p">,</span> <span class="nx">MessageCatalogue</span> <span class="nv">$catalog</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * Sets the prefix that should be used for new found messages.</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">setPrefix</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$prefix</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">prefix</span> <span class="o">=</span> <span class="nv">$prefix</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Translation\CustomExtractor</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="nv">translation.extractor</span><span class="p p-Indicator">,</span> <span class="nv">alias</span><span class="p p-Indicator">:</span> <span class="nv">foo</span> <span class="p p-Indicator">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Translation\CustomExtractor&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;translation.extractor&quot;</span> <span class="na">alias=</span><span class="s">&quot;foo&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Translation\CustomExtractor</span><span class="p">;</span>

<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">CustomExtractor</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;translation.extractor&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;alias&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;foo&#39;</span><span class="p">]);</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
</div>
<div class="section" id="translation-dumper">
<h2>translation.dumper<a class="headerlink" href="#translation-dumper" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: To register a custom service that dumps messages to a file</p>
<p>After a <a class="reference internal" href="#reference-dic-tags-translation-extractor"><span class="std std-ref">translation extractor</span></a>
has extracted all messages from the templates, the dumpers are executed to dump
the messages to a translation file in a specific format.</p>
<p>Symfony already comes with many dumpers:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Dumper/CsvFileDumper.php" title="Symfony\Component\Translation\Dumper\CsvFileDumper"><span class="pre">CsvFileDumper</span></a></code></li>
<li><code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Dumper/IcuResFileDumper.php" title="Symfony\Component\Translation\Dumper\IcuResFileDumper"><span class="pre">IcuResFileDumper</span></a></code></li>
<li><code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Dumper/IniFileDumper.php" title="Symfony\Component\Translation\Dumper\IniFileDumper"><span class="pre">IniFileDumper</span></a></code></li>
<li><code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Dumper/MoFileDumper.php" title="Symfony\Component\Translation\Dumper\MoFileDumper"><span class="pre">MoFileDumper</span></a></code></li>
<li><code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Dumper/PoFileDumper.php" title="Symfony\Component\Translation\Dumper\PoFileDumper"><span class="pre">PoFileDumper</span></a></code></li>
<li><code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Dumper/QtFileDumper.php" title="Symfony\Component\Translation\Dumper\QtFileDumper"><span class="pre">QtFileDumper</span></a></code></li>
<li><code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Dumper/XliffFileDumper.php" title="Symfony\Component\Translation\Dumper\XliffFileDumper"><span class="pre">XliffFileDumper</span></a></code></li>
<li><code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Dumper/YamlFileDumper.php" title="Symfony\Component\Translation\Dumper\YamlFileDumper"><span class="pre">YamlFileDumper</span></a></code></li>
</ul>
<p>You can create your own dumper by extending
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Dumper/FileDumper.php" title="Symfony\Component\Translation\Dumper\FileDumper"><span class="pre">FileDumper</span></a></code> or implementing
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Translation/Dumper/DumperInterface.php" title="Symfony\Component\Translation\Dumper\DumperInterface"><span class="pre">DumperInterface</span></a></code> and tagging
the service with <code class="docutils literal notranslate"><span class="pre">translation.dumper</span></code>. The tag has one option: <code class="docutils literal notranslate"><span class="pre">alias</span></code>
This is the name that’s used to determine which dumper should be used.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Translation\JsonFileDumper</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="nv">translation.dumper</span><span class="p p-Indicator">,</span> <span class="nv">alias</span><span class="p p-Indicator">:</span> <span class="nv">json</span> <span class="p p-Indicator">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Translation\JsonFileDumper&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;translation.dumper&quot;</span> <span class="na">alias=</span><span class="s">&quot;json&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Translation\JsonFileDumper</span><span class="p">;</span>

<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">JsonFileDumper</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;translation.dumper&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;alias&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;json&#39;</span><span class="p">]);</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
</div>
<div class="section" id="twig-extension">
<span id="reference-dic-tags-twig-extension"></span><h2>twig.extension<a class="headerlink" href="#twig-extension" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: To register a custom Twig Extension</p>
<p>To enable a Twig extension, add it as a regular service in one of your
configuration and tag it with <code class="docutils literal notranslate"><span class="pre">twig.extension</span></code>. If you’re using the
<a class="reference internal" href="../service_container.html#service-container-services-load-example"><span class="std std-ref">default services.yaml configuration</span></a>,
the service is auto-registered and auto-tagged. But, you can also register it manually:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Twig\AppExtension</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">twig.extension</span><span class="p p-Indicator">]</span>

    <span class="c1"># optionally you can define the priority of the extension (default = 0).</span>
    <span class="c1"># Extensions with higher priorities are registered earlier. This is mostly</span>
    <span class="c1"># useful to register late extensions that override other extensions.</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Twig\AnotherExtension</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="nv">twig.extension</span><span class="p p-Indicator">,</span> <span class="nv">priority</span><span class="p p-Indicator">:</span> <span class="nv">-100</span> <span class="p p-Indicator">}]</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Twig\AppExtension&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;twig.extension&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>

        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Twig\AnotherExtension&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;twig.extension&quot;</span> <span class="na">priority=</span><span class="s">&quot;-100&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Twig\AnotherExtension</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Twig\AppExtension</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">AppExtension</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;twig.extension&#39;</span><span class="p">)</span>
<span class="p">;</span>
<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">AnotherExtension</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;twig.extension&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;priority&#39;</span> <span class="o">=&gt;</span> <span class="o">-</span><span class="mi">100</span><span class="p">])</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<p>For information on how to create the actual Twig Extension class, see
<a class="reference external" href="https://twig.symfony.com/doc/2.x/advanced.html#creating-an-extension">Twig’s documentation</a> on the topic or read the
<a class="reference internal" href="../templating/twig_extension.html"><span class="doc">How to Write a custom Twig Extension</span></a> article.</p>
</div>
<div class="section" id="twig-loader">
<h2>twig.loader<a class="headerlink" href="#twig-loader" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Register a custom service that loads Twig templates</p>
<p>By default, Symfony uses only one <a class="reference external" href="https://twig.symfony.com/doc/2.x/api.html#loaders">Twig Loader</a> -
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bundle/TwigBundle/Loader/FilesystemLoader.php" title="Symfony\Bundle\TwigBundle\Loader\FilesystemLoader"><span class="pre">FilesystemLoader</span></a></code>. If you need
to load Twig templates from another resource, you can create a service for
the new loader and tag it with <code class="docutils literal notranslate"><span class="pre">twig.loader</span></code>.</p>
<p>If you use the <a class="reference internal" href="../service_container.html#service-container-services-load-example"><span class="std std-ref">default services.yaml configuration</span></a>,
the service will be automatically tagged thanks to autoconfiguration. But, you can
also register it manually:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Twig\CustomLoader</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span> <span class="nv">name</span><span class="p p-Indicator">:</span> <span class="nv">twig.loader</span><span class="p p-Indicator">,</span> <span class="nv">priority</span><span class="p p-Indicator">:</span> <span class="nv">0</span> <span class="p p-Indicator">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Twig\CustomLoader&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;twig.loader&quot;</span> <span class="na">priority=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Twig\CustomLoader</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">CustomLoader</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;twig.loader&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;priority&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">])</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">priority</span></code> is optional and its value is a positive or negative integer
that defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>. Loaders with higher numbers are tried first.</p>
</div>
</div>
<div class="section" id="twig-runtime">
<span id="reference-dic-tags-twig-runtime"></span><h2>twig.runtime<a class="headerlink" href="#twig-runtime" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: To register a custom Lazy-Loaded Twig Extension</p>
<p><a class="reference internal" href="../templating/twig_extension.html#lazy-loaded-twig-extensions"><span class="std std-ref">Lazy-Loaded Twig Extensions</span></a> are defined as
regular services but the need to be tagged with <code class="docutils literal notranslate"><span class="pre">twig.runtime</span></code>. If you’re using the
<a class="reference internal" href="../service_container.html#service-container-services-load-example"><span class="std std-ref">default services.yaml configuration</span></a>,
the service is auto-registered and auto-tagged. But, you can also register it manually:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">App\Twig\AppExtension</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">twig.runtime</span><span class="p p-Indicator">]</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>XML</em><div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        https://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;App\Twig\AppExtension&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;twig.runtime&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
<li><em>PHP</em><div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Twig\AppExtension</span><span class="p">;</span>

<span class="nv">$container</span>
    <span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="nx">AppExtension</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;twig.runtime&#39;</span><span class="p">)</span>
<span class="p">;</span>
</pre></div>
</td></tr></table></div>
</li>
</ul>
</div>
</div>
<div class="section" id="validator-constraint-validator">
<h2>validator.constraint_validator<a class="headerlink" href="#validator-constraint-validator" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Create your own custom validation constraint</p>
<p>This tag allows you to create and register your own custom validation constraint.
For more information, read the <a class="reference internal" href="../validation/custom_constraint.html"><span class="doc">How to Create a Custom Validation Constraint</span></a> article.</p>
</div>
<div class="section" id="validator-initializer">
<h2>validator.initializer<a class="headerlink" href="#validator-initializer" title="Permalink to this headline">¶</a></h2>
<p><strong>Purpose</strong>: Register a service that initializes objects before validation</p>
<p>This tag provides a very uncommon piece of functionality that allows you
to perform some sort of action on an object right before it’s validated.
For example, it’s used by Doctrine to query for all of the lazily-loaded
data on an object before it’s validated. Without this, some data on a Doctrine
entity would appear to be “missing” when validated, even though this is
not really the case.</p>
<p>If you do need to use this tag, just make a new class that implements the
<code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Validator/ObjectInitializerInterface.php" title="Symfony\Component\Validator\ObjectInitializerInterface"><span class="pre">ObjectInitializerInterface</span></a></code> interface.
Then, tag it with the <code class="docutils literal notranslate"><span class="pre">validator.initializer</span></code> tag (it has no options).</p>
<p>For an example, see the <code class="docutils literal notranslate"><span class="pre">DoctrineInitializer</span></code> class inside the Doctrine
Bridge.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2004-2020 Fabien Potencier

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>