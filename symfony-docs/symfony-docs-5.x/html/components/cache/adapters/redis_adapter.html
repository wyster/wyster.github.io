

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Redis Cache Adapter &mdash; Symfony Framework Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/rtd_custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Cache Invalidation" href="../cache_invalidation.html" />
    <link rel="prev" title="Proxy Cache Adapter" href="proxy_adapter.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #f0f0f0" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/symfony-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                5.x}
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../quick_tour/index.html">The Quick Tour</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../best_practices.html">The Symfony Framework Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bundles.html">The Bundle System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../console.html">Console Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doctrine.html">Databases and the Doctrine ORM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../deployment.html">How to Deploy a Symfony Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../email.html">Swift Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../event_dispatcher.html">Events and Event Listeners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../forms.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../frontend.html">Managing CSS and JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../http_cache.html">HTTP Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../http_client.html">HTTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lock.html">Dealing with Concurrency with Locks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mailer.html">Sending Emails with Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mercure.html">Pushing Data to Clients Using the Mercure Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../messenger.html">Messenger: Sync &amp; Queued Message Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../migration.html">Migrating an Existing Application to Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../notifier.html">Creating and Sending Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../profiler.html">Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rate_limiter.html">Rate Limiter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../session.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../setup.html">Installing &amp; Setting up the Symfony Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../serializer.html">How to Use the Serializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../service_container.html">Service Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../translation.html">Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../validation.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../web_link.html">Asset Preloading and Resource Hints with HTTP/2 and WebLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../workflow.html">Workflow</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">The Components</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../using_components.html">How to Install and Use the Symfony Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../asset.html">The Asset Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../browser_kit.html">The BrowserKit Component</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../cache.html">The Cache Component</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../cache.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cache.html#cache-contracts-versus-psr-6">Cache Contracts versus PSR-6</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../cache.html#cache-contracts">Cache Contracts</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../../cache.html#available-cache-adapters">Available Cache Adapters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cache.html#generic-caching-psr-6">Generic Caching (PSR-6)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cache.html#basic-usage-psr-6">Basic Usage (PSR-6)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../cache.html#advanced-usage">Advanced Usage</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../cache_invalidation.html">Cache Invalidation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cache_items.html">Cache Items</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../cache_pools.html">Cache Pools and Supported Adapters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../psr6_psr16_adapters.html">Adapters For Interoperability between PSR-6 and PSR-16 Cache</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../config.html">The Config Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../console.html">The Console Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contracts.html">The Contracts Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../css_selector.html">The CssSelector Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dependency_injection.html">The DependencyInjection Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dom_crawler.html">The DomCrawler Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../event_dispatcher.html">The EventDispatcher Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../expression_language.html">The ExpressionLanguage Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../filesystem.html">The Filesystem Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finder.html">The Finder Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../form.html">The Form Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../http_foundation.html">The HttpFoundation Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../http_kernel.html">The HttpKernel Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inflector.html">The Inflector Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intl.html">The Intl Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ldap.html">The Ldap Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lock.html">The Lock Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../messenger.html">The Messenger Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mime.html">The Mime Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../options_resolver.html">The OptionsResolver Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../phpunit_bridge.html">The PHPUnit Bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../process.html">The Process Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../property_access.html">The PropertyAccess Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../property_info.html">The PropertyInfo Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../psr7.html">The PSR-7 Bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../security.html">The Security Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../semaphore.html">The Semaphore Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../serializer.html">The Serializer Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../string.html">The String Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../uid.html">The UID Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../validator.html">The Validator Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../var_dumper.html">The VarDumper Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../var_exporter.html">The VarExporter Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workflow.html">The Workflow Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../yaml.html">The Yaml Component</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/index.html">Reference Documents</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/index.html">Contributing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../create_framework/index.html">Create your own PHP Framework</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Symfony Framework Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">The Components</a> &raquo;</li>
        
          <li><a href="../../cache.html">The Cache Component</a> &raquo;</li>
        
      <li>Redis Cache Adapter</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/components/cache/adapters/redis_adapter.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="redis-cache-adapter">
<span id="redis-adapter"></span><span id="index-0"></span><h1>Redis Cache Adapter<a class="headerlink" href="#redis-cache-adapter" title="Permalink to this headline">¶</a></h1>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">This article explains how to configure the Redis adapter when using the
Cache as an independent component in any PHP application. Read the
<a class="reference internal" href="../../../cache.html#cache-configuration-with-frameworkbundle"><span class="std std-ref">Symfony Cache configuration</span></a>
article if you are using it in a Symfony application.</p>
</div>
<p>This adapter stores the values in-memory using one (or more) <a class="reference external" href="https://redis.io/">Redis server</a> instances.</p>
<p>Unlike the <a class="reference internal" href="apcu_adapter.html#apcu-adapter"><span class="std std-ref">APCu adapter</span></a>, and similarly to the
<a class="reference internal" href="memcached_adapter.html#memcached-adapter"><span class="std std-ref">Memcached adapter</span></a>, it is not limited to the current server’s
shared memory; you can store contents independent of your PHP environment. The ability
to utilize a cluster of servers to provide redundancy and/or fail-over is also available.</p>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last"><strong>Requirements:</strong> At least one <a class="reference external" href="https://redis.io/">Redis server</a> must be installed and running to use this
adapter. Additionally, this adapter requires a compatible extension or library that implements
<code class="docutils literal notranslate"><span class="pre">\Redis</span></code>, <code class="docutils literal notranslate"><span class="pre">\RedisArray</span></code>, <code class="docutils literal notranslate"><span class="pre">RedisCluster</span></code>, or <code class="docutils literal notranslate"><span class="pre">\Predis</span></code>.</p>
</div>
<p>This adapter expects a <a class="reference external" href="https://github.com/phpredis/phpredis">Redis</a>, <a class="reference external" href="https://github.com/phpredis/phpredis/blob/master/arrays.markdown#readme">RedisArray</a>, <a class="reference external" href="https://github.com/phpredis/phpredis/blob/master/cluster.markdown#readme">RedisCluster</a>, or <a class="reference external" href="https://packagist.org/packages/predis/predis">Predis</a> instance to be
passed as the first parameter. A namespace and default cache lifetime can optionally be passed
as the second and third parameters:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Cache\Adapter\RedisAdapter</span><span class="p">;</span>

<span class="nv">$cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RedisAdapter</span><span class="p">(</span>

    <span class="c1">// the object that stores a valid connection to your Redis system</span>
    <span class="nx">\Redis</span> <span class="nv">$redisConnection</span><span class="p">,</span>

    <span class="c1">// the string prefixed to the keys of the items stored in this cache</span>
    <span class="nv">$namespace</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>

    <span class="c1">// the default lifetime (in seconds) for cache items that do not define their</span>
    <span class="c1">// own lifetime, with a value 0 causing items to be stored indefinitely (i.e.</span>
    <span class="c1">// until RedisAdapter::clear() is invoked or the server(s) are purged)</span>
    <span class="nv">$defaultLifetime</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">);</span>
</pre></div>
</div>
<div class="section" id="configure-the-connection">
<h2>Configure the Connection<a class="headerlink" href="#configure-the-connection" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Cache/Adapter/RedisAdapter.php" title="Symfony\Component\Cache\Adapter\RedisAdapter::createConnection()"><span class="pre">createConnection()</span></a></code>
helper method allows creating and configuring the Redis client class instance using a
<a class="reference external" href="https://en.wikipedia.org/wiki/Data_source_name">Data Source Name (DSN)</a>:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Cache\Adapter\RedisAdapter</span><span class="p">;</span>

<span class="c1">// pass a single DSN string to register a single server with the client</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="nx">RedisAdapter</span><span class="o">::</span><span class="na">createConnection</span><span class="p">(</span>
    <span class="s1">&#39;redis://localhost&#39;</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The DSN can specify either an IP/host (and an optional port) or a socket path, as well as a
password and a database index.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>A <a class="reference external" href="https://en.wikipedia.org/wiki/Data_source_name">Data Source Name (DSN)</a> for this adapter must use the following format.</p>
<div class="last highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>redis://[pass@][ip|host|socket[:port]][/db-index]
</pre></div>
</td></tr></table></div>
</div>
<p>Below are common examples of valid DSNs showing a combination of available values:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Cache\Adapter\RedisAdapter</span><span class="p">;</span>

<span class="c1">// host &quot;my.server.com&quot; and port &quot;6379&quot;</span>
<span class="nx">RedisAdapter</span><span class="o">::</span><span class="na">createConnection</span><span class="p">(</span><span class="s1">&#39;redis://my.server.com:6379&#39;</span><span class="p">);</span>

<span class="c1">// host &quot;my.server.com&quot; and port &quot;6379&quot; and database index &quot;20&quot;</span>
<span class="nx">RedisAdapter</span><span class="o">::</span><span class="na">createConnection</span><span class="p">(</span><span class="s1">&#39;redis://my.server.com:6379/20&#39;</span><span class="p">);</span>

<span class="c1">// host &quot;localhost&quot;, auth &quot;abcdef&quot; and timeout 5 seconds</span>
<span class="nx">RedisAdapter</span><span class="o">::</span><span class="na">createConnection</span><span class="p">(</span><span class="s1">&#39;redis://abcdef@localhost?timeout=5&#39;</span><span class="p">);</span>

<span class="c1">// socket &quot;/var/run/redis.sock&quot; and auth &quot;bad-pass&quot;</span>
<span class="nx">RedisAdapter</span><span class="o">::</span><span class="na">createConnection</span><span class="p">(</span><span class="s1">&#39;redis://bad-pass@/var/run/redis.sock&#39;</span><span class="p">);</span>

<span class="c1">// a single DSN can define multiple servers using the following syntax:</span>
<span class="c1">// host[hostname-or-IP:port] (where port is optional). Sockets must include a trailing &#39;:&#39;</span>
<span class="nx">RedisAdapter</span><span class="o">::</span><span class="na">createConnection</span><span class="p">(</span>
    <span class="s1">&#39;redis:?host[localhost]&amp;host[localhost:6379]&amp;host[/var/run/redis.sock:]&amp;auth=my-password&amp;redis_cluster=1&#39;</span>
<span class="p">);</span>
</pre></div>
</div>
<p><a class="reference external" href="https://redis.io/topics/sentinel">Redis Sentinel</a>, which provides high availability for Redis, is also supported
when using the Predis library. Use the <code class="docutils literal notranslate"><span class="pre">redis_sentinel</span></code> parameter to set the
name of your service group:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="nx">RedisAdapter</span><span class="o">::</span><span class="na">createConnection</span><span class="p">(</span>
    <span class="s1">&#39;redis:?host[redis1:26379]&amp;host[redis2:26379]&amp;host[redis3:26379]&amp;redis_sentinel=mymaster&#39;</span>
<span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See the <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Cache/Traits/RedisTrait.php" title="Symfony\Component\Cache\Traits\RedisTrait"><span class="pre">RedisTrait</span></a></code> for more options
you can pass as DSN parameters.</p>
</div>
</div>
<div class="section" id="configure-the-options">
<h2>Configure the Options<a class="headerlink" href="#configure-the-options" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Cache/Adapter/RedisAdapter.php" title="Symfony\Component\Cache\Adapter\RedisAdapter::createConnection()"><span class="pre">createConnection()</span></a></code> helper method
also accepts an array of options as its second argument. The expected format is an associative
array of <code class="docutils literal notranslate"><span class="pre">key</span> <span class="pre">=&gt;</span> <span class="pre">value</span></code> pairs representing option names and their respective values:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Cache\Adapter\RedisAdapter</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">RedisAdapter</span><span class="o">::</span><span class="na">createConnection</span><span class="p">(</span>

    <span class="c1">// provide a string dsn</span>
    <span class="s1">&#39;redis://localhost:6379&#39;</span><span class="p">,</span>

    <span class="c1">// associative array of configuration options</span>
    <span class="p">[</span>
        <span class="s1">&#39;compression&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
        <span class="s1">&#39;lazy&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
        <span class="s1">&#39;persistent&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;persistent_id&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
        <span class="s1">&#39;tcp_keepalive&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;timeout&#39;</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
        <span class="s1">&#39;read_timeout&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;retry_interval&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">]</span>

<span class="p">);</span>
</pre></div>
</div>
<div class="section" id="available-options">
<h3>Available Options<a class="headerlink" href="#available-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">class</span></code> (type: <code class="docutils literal notranslate"><span class="pre">string</span></code>)</dt>
<dd>Specifies the connection library to return, either <code class="docutils literal notranslate"><span class="pre">\Redis</span></code> or <code class="docutils literal notranslate"><span class="pre">\Predis\Client</span></code>.
If none is specified, it will return <code class="docutils literal notranslate"><span class="pre">\Redis</span></code> if the <code class="docutils literal notranslate"><span class="pre">redis</span></code> extension is
available, and <code class="docutils literal notranslate"><span class="pre">\Predis\Client</span></code> otherwise.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">compression</span></code> (type: <code class="docutils literal notranslate"><span class="pre">bool</span></code>, default: <code class="docutils literal notranslate"><span class="pre">true</span></code>)</dt>
<dd>Enables or disables compression of items. This requires phpredis v4 or higher with
LZF support enabled.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lazy</span></code> (type: <code class="docutils literal notranslate"><span class="pre">bool</span></code>, default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</dt>
<dd>Enables or disables lazy connections to the backend. It’s <code class="docutils literal notranslate"><span class="pre">false</span></code> by
default when using this as a stand-alone component and <code class="docutils literal notranslate"><span class="pre">true</span></code> by default
when using it inside a Symfony application.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">persistent</span></code> (type: <code class="docutils literal notranslate"><span class="pre">int</span></code>, default: <code class="docutils literal notranslate"><span class="pre">0</span></code>)</dt>
<dd>Enables or disables use of persistent connections. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> disables persistent
connections, and a value of <code class="docutils literal notranslate"><span class="pre">1</span></code> enables them.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">persistent_id</span></code> (type: <code class="docutils literal notranslate"><span class="pre">string|null</span></code>, default: <code class="docutils literal notranslate"><span class="pre">null</span></code>)</dt>
<dd>Specifies the persistent id string to use for a persistent connection.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">read_timeout</span></code> (type: <code class="docutils literal notranslate"><span class="pre">int</span></code>, default: <code class="docutils literal notranslate"><span class="pre">0</span></code>)</dt>
<dd>Specifies the time (in seconds) used when performing read operations on the underlying
network resource before the operation times out.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">retry_interval</span></code> (type: <code class="docutils literal notranslate"><span class="pre">int</span></code>, default: <code class="docutils literal notranslate"><span class="pre">0</span></code>)</dt>
<dd>Specifies the delay (in milliseconds) between reconnection attempts in case the client
loses connection with the server.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tcp_keepalive</span></code> (type: <code class="docutils literal notranslate"><span class="pre">int</span></code>, default: <code class="docutils literal notranslate"><span class="pre">0</span></code>)</dt>
<dd>Specifies the <a class="reference external" href="https://redis.io/topics/clients#tcp-keepalive">TCP-keepalive</a> timeout (in seconds) of the connection. This
requires phpredis v4 or higher and a TCP-keepalive enabled server.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">timeout</span></code> (type: <code class="docutils literal notranslate"><span class="pre">int</span></code>, default: <code class="docutils literal notranslate"><span class="pre">30</span></code>)</dt>
<dd>Specifies the time (in seconds) used to connect to a Redis server before the
connection attempt times out.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using the <a class="reference external" href="https://packagist.org/packages/predis/predis">Predis</a> library some additional Predis-specific options are available.
Reference the <a class="reference external" href="https://github.com/nrk/predis/wiki/Connection-Parameters#list-of-connection-parameters">Predis Connection Parameters</a> documentation for more information.</p>
</div>
</div>
</div>
<div class="section" id="working-with-tags">
<span id="redis-tag-aware-adapter"></span><h2>Working with Tags<a class="headerlink" href="#working-with-tags" title="Permalink to this headline">¶</a></h2>
<p>In order to use tag-based invalidation, you can wrap your adapter in <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Cache/Adapter/TagAwareAdapter.php" title="Symfony\Component\Cache\Adapter\TagAwareAdapter"><span class="pre">TagAwareAdapter</span></a></code>, but when Redis is used as backend, it’s often more interesting to use the dedicated <code class="docutils literal notranslate"><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Cache/Adapter/RedisTagAwareAdapter.php" title="Symfony\Component\Cache\Adapter\RedisTagAwareAdapter"><span class="pre">RedisTagAwareAdapter</span></a></code>. Since tag invalidation logic is implemented in Redis itself, this adapter offers better performance when using tag-based invalidation:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Cache\Adapter\RedisAdapter</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Cache\Adapter\RedisTagAwareAdapter</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">RedisAdapter</span><span class="o">::</span><span class="na">createConnection</span><span class="p">(</span><span class="s1">&#39;redis://localhost&#39;</span><span class="p">);</span>
<span class="nv">$cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RedisTagAwareAdapter</span><span class="p">(</span><span class="nv">$client</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="configuring-redis">
<h3>Configuring Redis<a class="headerlink" href="#configuring-redis" title="Permalink to this headline">¶</a></h3>
<p>When using Redis as cache, you should configure the <code class="docutils literal notranslate"><span class="pre">maxmemory</span></code> and <code class="docutils literal notranslate"><span class="pre">maxmemory-policy</span></code>
settings. By setting <code class="docutils literal notranslate"><span class="pre">maxmemory</span></code>, you limit how much memory Redis is allowed to consume.
If the amount is too low, Redis will drop entries that would still be useful and you benefit
less from your cache. Setting the <code class="docutils literal notranslate"><span class="pre">maxmemory-policy</span></code> to <code class="docutils literal notranslate"><span class="pre">allkeys-lru</span></code> tells Redis that
it is ok to drop data when it runs out of memory, and to first drop the oldest entries (least
recently used). If you do not allow Redis to drop entries, it will return an error when you
try to add data when no memory is available. An example setting could look as follows:</p>
<div class="highlight-ini notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="na">maxmemory 100mb</span>
<span class="na">maxmemory-policy allkeys-lru</span>
</pre></div>
</td></tr></table></div>
<p>Read more about this topic in the offical <a class="reference external" href="https://redis.io/topics/lru-cache">Redis LRU Cache Documentation</a>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2004-2020 Fabien Potencier

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>